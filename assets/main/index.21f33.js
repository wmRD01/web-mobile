window.__require=function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({ActionTransition:[function(t,e,n){"use strict";cc._RF.push(e,"5f6d7lF8+5Pla+j4wECkTyZ","ActionTransition"),Object.defineProperty(n,"__esModule",{value:!0}),n.ActionTransition=void 0;var o=function(){function t(){}return t.pageFadeIn=function(t,e,n){void 0===e&&(e=!0),t.zIndex=9,t.active=!0,e&&(t.opacity=0,t.setScale(1.2),t.active=!0,t.stopAllActions(),t.runAction(cc.sequence(cc.delayTime(.16),cc.spawn(cc.scaleTo(.3,1).easing(cc.easeBackInOut()),cc.fadeIn(.1)),cc.callFunc(function(){n&&n()}))))},t.pageFadeOut=function(t,e,n){if(void 0===e&&(e=!0),e)return t.zIndex=1,t.stopAllActions(),void t.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1,n&&n()})));t.active=!1},t.btnBounce=function(t,e){t.runAction(cc.sequence(cc.scaleTo(.13,1.1),cc.scaleTo(.1,1),cc.callFunc(function(){e&&e()})))},t}();n.ActionTransition=o,cc._RF.pop()},{}],AssetsMng:[function(t,e,n){"use strict";cc._RF.push(e,"0935a8N6rJPWKXmhvgo3hu/","AssetsMng"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../data/Assets"),i=t("../manager/EventMng"),r=t("../data/const/EventConst"),a=function(){function t(){}return t.prototype.init=function(){},t.prototype.onPreLoad=function(){this.onGamePrefabLoad()},t.prototype.onPreLoadDone=function(){i.default.emit(r.LoadEvent.LOAD_PRELOAD_DONE)},t.prototype.onGameSpineLoad=function(){var t=this,e=o.default.getGameSpineUrls();cc.loader.loadResArray(e,sp.SkeletonData,function(e,n){t.onGameSpineDone(e,n)})},t.prototype.onGameSpineDone=function(t,e){t?console.log(t):(this.setAssets(e,".spine"),this.onPreLoadDone())},t.prototype.onGameAssetsLoad=function(){var t=this,e=o.default.getGameAssetsUrls();cc.loader.loadResArray(e,cc.SpriteAtlas,function(e,n){t.onGameAssetsDone(e,n)})},t.prototype.onGameAssetsDone=function(t,e){t?console.log(t):(this.setAssets(e),this.onGameSpineLoad())},t.prototype.onGamePrefabLoad=function(){var t=this,e=o.default.getGameAssetsPrefabUrls();cc.loader.loadResArray(e,function(e,n){t.onGamePrefabLoadDone(e,n)})},t.prototype.onGamePrefabLoadDone=function(t,e){t?console.log(t):(this.setAssets(e),this.onGameAssetsLoad())},t.prototype.setAssets=function(t,e){for(var n=0;n<t.length;n++){var i=t[n]._name;e&&(i+=e),o.default[i]=t[n]}},t.prototype.getAssets=function(t){if(o.default[t])return o.default[t]},t.prototype.getHeadPhotoImg=function(t){var e=this.getAssets("head_photo.plist");if(e){var n=t<10?"0"+t:t;return e.getSpriteFrame("head_"+n)}},t}();n.default=new a,cc._RF.pop()},{"../data/Assets":"Assets","../data/const/EventConst":"EventConst","../manager/EventMng":"EventMng"}],Assets:[function(t,e,n){"use strict";cc._RF.push(e,"340e97coRhIRIju4Wj756U6","Assets"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.langAssetUrl="images/txt/",this.gameAssetUrl="images/",this.prefabAssetUrl="prefab/",this.spineAssetUrl="spine/",this._gameAssetsName=["pet/pet_1","pet/pet_2","game/decoration"],this._gameAssetsPrefabName=["cube_item","coin_gold_prefab","coin_sliver_prefab"],this._gameAssetsSpineName=["select/select","map/map_gpg1","mine/pet01","partner/mining1","coin/coin"]}return t.prototype.getGameAssetsPrefabUrls=function(){for(var t=[],e=0;e<this._gameAssetsPrefabName.length;e++)t.push(this.prefabAssetUrl+this._gameAssetsPrefabName[e]);return t},t.prototype.getPrefabAssetUrl=function(){return this.prefabAssetUrl},t.prototype.getGameAssetsUrls=function(){for(var t=[],e=0;e<this._gameAssetsName.length;e++)t.push(this.getGameAssetUrl()+this._gameAssetsName[e]);return t},t.prototype.getGameAssetUrl=function(){return this.gameAssetUrl},t.prototype.getGameSpineUrls=function(){for(var t=[],e=0;e<this._gameAssetsSpineName.length;e++)t.push(this.getGameSpineUrl()+this._gameAssetsSpineName[e]);return t},t.prototype.getGameSpineUrl=function(){return this.spineAssetUrl},t}();n.default=new o,cc._RF.pop()},{}],CNY:[function(t,e){"use strict";cc._RF.push(e,"5e77b36o5lGkp97sxLufBiU","CNY"),e.exports={S_9001:"\u5c1a\u672a\u958b\u653e!",S_9100:"\u9023\u7dda\u932f\u8aa4!",T_001:"\u60a8\u9084\u672a\u6709\u5bf5\u7269\u5594",T_002:"\u5feb\u53bb\u5f97\u5230\u4e00\u96bb\u4f60\u7684\u7926\u72d7\u5427!",T_003:"\u60a8\u9084\u672a\u9078\u5b9a\u5bf5\u7269\u5594",T_004:"\u60a8\u9084\u672a\u9078\u5b9a\u5c0f\u5925\u4f34\u5594",T_005:"\u672a\u9078\u64c7",T_006:"\u7b49\u7d1a",T_007:"\u4f7f\u7528!",I_001:"\u7926\u6a5f\u529f\u80fd",I_002:"\u7926\u6a5f\u6bcf\u5c0f\u6642\u90fd\u6703\u7d66\u4e88\u73a9\u5bb6\u4e00\u5b9a\u6578\u91cf\u7684\u9322\u5e63\uff0c\u6bcf\u904e\u516d\u5c0f\u6642\u53ef\u9818\u4e00\u6b21\uff0c\u5341\u4e8c\u5c0f\u6642\u5373\u9054\u4e0a\u9650\u4e0d\u518d\u7d2f\u7a4d\u3002!",I_003:"\u7926\u6a5f\u7b49\u7d1a",I_004:"\u7926\u6a5f\u6703\u96a8\u8457\u7b49\u7d1a\u7684\u6210\u9577\u800c\u589e\u52a0\u6240\u5f97\u7684\u734e\u52f5\u3002\u6d88\u8017\u7f50\u982d\u53ca\u9280\u5e63\u6709\u4e00\u5b9a\u6a5f\u7387\u53ef\u4ee5\u63d0\u5347\u7926\u6a5f\u7b49\u7d1a\u3002"},cc._RF.pop()},{}],CfgMine:[function(t,e){"use strict";cc._RF.push(e,"c0116gUkgVNf4z35ur54na3","CfgMine"),e.exports={0:{levelName:["","",""],name:"",intro:""},1:{levelName:["m_d1_s","m_d1_m","m_d1_l"],name:"\u5df4\u7279",intro:"\u5df4\u7279\u662f\u4e00\u96bb\u52e4\u596e\u7684\u5c0f\u72d7\u72d7\u3002\u96d6\u7136\u6709\u4e9b\u5065\u5fd8\uff0c\u4f46\u500b\u6027\u8001\u5be6\u6566\u539a\u3002\u6bcf\u51fa\u95806\u5c0f\u6642\u6703\u5e36\u56de\u4e00\u4e9b\u9280\u5e63\uff0c\u8a18\u5f97\u8981\u627e\u7260\u9818\u53d6\u54e6\uff01",bgColor:{r:255,g:187,b:0}},2:{levelName:["","",""],name:"",intro:""},3:{levelName:["","",""],name:"",intro:""},4:{levelName:["","",""],name:"",intro:""}},cc._RF.pop()},{}],CfgPartner:[function(t,e){"use strict";cc._RF.push(e,"9d6f5YqHa5C7IfaWiybgF6T","CfgPartner"),e.exports={0:{levelName:["empty"],name:"",intro:""},1:{levelName:["f1"],name:"\u827e\u54aa",intro:"\u827e\u54aa\u662f\u4e00\u96bb\u611b\u5192\u96aa\u537b\u53c8\u6709\u4e9b\u813e\u6c23\u66b4\u8e81\u7684\u5c0f\u96de\u3002\u611b\u5192\u96aa\u7684\u7260\uff0c\u7e3d\u6703\u5728\u51fa\u5916\u65c5\u884c\u5f8c\u5e36\u56de\u627e\u5230\u7684\u91d1\u5e63\u3002",bgColor:{r:0,g:184,b:146}},2:{levelName:[""],name:"",intro:""},3:{levelName:[""],name:"",intro:""},4:{levelName:[""],name:"",intro:""}},cc._RF.pop()},{}],CollectGeneral:[function(t,e,n){"use strict";cc._RF.push(e,"001d4Aj4DNOvbICg2vzJCcK","CollectGeneral");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../data/GameCenter"),s=t("../../../GameController"),c=t("../../../manager/AssetsMng"),u=t("../../ui/UIBase"),l=t("./ParticleCoin"),h=t("../../../data/scene/DataCollectGeneral"),p=t("../../../common/ActionTransition"),d=t("../../../data/const/EventConst"),f=cc._decorator.ccclass,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canUpdateMine=!0,e}return i(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(h.default),this.particleCoin=this.ui.node_coin_particle_holder.addComponent(l.default),this.viewReset()},e.prototype.onShow=function(){var t=this;this.initEvent(d.MainEvent.GET_POINT,this.onGetPoint),this.initEvent(d.MainEvent.MINE_GENERAL_UPDATE,this.onMineUpdate),this.onRegisterEvent(this.ui.btn_get,this.onBtnGetClick,this),this.dataReset(),cc.game.on(cc.game.EVENT_SHOW,function(){t.updateMine()}),this.updateChooseIcon()},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_get,this.onBtnGetClick,this)},e.prototype.viewReset=function(){this.setRoadTheme(),this.setPetSpineTheme(),this.setPartnerSpineTheme(),this.roadActive(!1),this.petActive(!1),this.partnerActive(!1),this.coinActive(!1),this.mineTipHide(),this.ui.label_time.string="00:00:00",this.ui.btn_get.active=!1,this.ui.btn_get.opacity=0,this.ui.node_coin_level_holder.opacity=0},e.prototype.dataReset=function(){this.setGoldPoint(),this.setSliverPoint(),this.updateWarehousePoint(),this.updateMoneyPile(),this.updateBtnGetState()},e.prototype.mineAniPlay=function(){var t=this;this.roadAniPlay(function(){t.petRunAniPlay(),t.partnerRunAniPlay(),t.coinRunAniPlay(),t.mineTipShow()})},e.prototype.roadActive=function(t){void 0===t&&(t=!0),this.ui.spine_road.node.stopAllActions(),this.ui.spine_road.node.active=t},e.prototype.roadAniPlay=function(t){var e=this;this.roadActive(),this.ui.spine_road.node.runAction(cc.sequence(cc.callFunc(function(){e.ui.spine_road.setAnimation(0,"run_op",!1),e.ui.spine_road.addAnimation(0,"run_action",!0)}),cc.delayTime(1),cc.callFunc(function(){e.ui.btn_get.active=!0,e.ui.btn_get.runAction(cc.fadeIn(.2)),e.ui.node_coin_level_holder.runAction(cc.fadeIn(.2)),t&&t()})))},e.prototype.setRoadTheme=function(){var t=a.default.game.mineSelectID,e=a.default.game.mineRoadName[t];this.ui.spine_road.skeletonData=c.default.getAssets(e+".spine")},e.prototype.petActive=function(t){void 0===t&&(t=!0),this.ui.spine_pet.node.active=t},e.prototype.petRunAniPlay=function(){this.petActive(),this.ui.spine_pet.setAnimation(0,"run_patch_02",!0)},e.prototype.setPetSpineTheme=function(){var t=a.default.game.getPetBodyThemeName();this.petActive(),this.ui.spine_pet.skeletonData=c.default.getAssets(t+".spine"),this.setPetSkin()},e.prototype.setPetSkin=function(){this.ui.spine_pet.setSkin(a.default.game.getPetBodySkinName())},e.prototype.partnerActive=function(t){void 0===t&&(t=!0),this.ui.spine_partner.node.active=t},e.prototype.partnerRunAniPlay=function(){this.partnerActive(),this.ui.spine_partner.setAnimation(0,"run_patch_02",!0)},e.prototype.setPartnerSpineTheme=function(){var t=a.default.game.getPartnerBodyThemeName();this.partnerActive(),this.ui.spine_partner.skeletonData=c.default.getAssets(t+".spine")},e.prototype.coinActive=function(t){void 0===t&&(t=!0),this.ui.spine_coin.node.active=t},e.prototype.coinRunAniPlay=function(){this.coinActive(),this.ui.spine_coin.setAnimation(0,"run_patch_02",!0)},e.prototype.mineTipShow=function(){this.ui.node_mine_tip_holder.active=!0,this.ui.node_mine_tip_holder.runAction(cc.fadeIn(.3))},e.prototype.mineTipHide=function(){this.ui.node_mine_tip_holder.opacity=0,this.ui.node_mine_tip_holder.active=!1},e.prototype.timeNumberChange=function(t){return t<10?"0"+t:""+t},e.prototype.formatSecond=function(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),o=t-3600*e-60*n;return" "+this.timeNumberChange(e)+":"+this.timeNumberChange(n)+":"+this.timeNumberChange(o)},e.prototype.getAccumulatedHours=function(){return Math.floor(a.default.game.currentTime/3600)},e.prototype.setGoldPoint=function(){this.ui.label_gold.string=""+a.default.game.goldPoint},e.prototype.setSliverPoint=function(){this.ui.label_sliver.string=""+a.default.game.silverPoint},e.prototype.updatePoints=function(){this.setGoldPoint(),this.setSliverPoint()},e.prototype.updateWarehousePoint=function(){console.log("\u66f4\u65b0\u91d1\u5e63"),console.log(a.default.game),this.ui.label_coin_txt.string=""+a.default.game.warehousePoint,this.ui.label_coin_silver.string=""+a.default.game.warehousePoint_silver,this.ui.label_coin_gold.string=""+a.default.game.warehousePoint_gold},e.prototype.updateMoneyPile=function(){for(var t=this.getMoneyPileLevel(),e=this.ui.node_coin_level_holder.children,n=0;n<e.length;n++)e[n].active=n==t},e.prototype.getMoneyPileLevel=function(){var t=this.getAccumulatedHours(),e=0;return t<6?e=0:t>=6&&t<12?e=1:t>=12&&(e=2),e},e.prototype.onBtnGetClick=function(){p.ActionTransition.btnBounce(this.ui.btn_get),s.default.net.send("action",null)},e.prototype.onGetPoint=function(){var t=this,e=Number(a.default.game.collect.gold),n=Number(a.default.game.collect.silver);e=e<=30?e:30,n=n<=30?n:30,this.particleCoin.createCoins(cc.v2(0,-510),e,n,function(){t.updatePoints()})},e.prototype.onMineUpdate=function(){this.updateWarehousePoint(),this.updateBarSchedule(),this.updateBtnGetState(),this.updateMoneyPile()},e.prototype.updateMine=function(){var t=this;if(this.canUpdateMine){this.canUpdateMine=!1,s.default.net.send("other",null);var e=setTimeout(function(){t.canUpdateMine=!0,clearTimeout(e)},30)}},e.prototype.updateTime=function(){a.default.game.timeActive?this.ui.label_time.string!=this.formatSecond(a.default.game.currentTime)&&(this.ui.label_time.string=this.formatSecond(a.default.game.currentTime),a.default.game.currentTime%3600==0&&a.default.game.currentTime>0&&this.updateMine()):this.ui.label_time.string!=this.formatSecond(0)&&(this.ui.label_time.string=this.formatSecond(0))},e.prototype.updateBtnGetState=function(){this.getAccumulatedHours()<6?(this.ui.node_get_normal.active=!0,this.ui.node_get_active.active=!1):(this.ui.node_get_normal.active=!1,this.ui.node_get_active.active=!0)},e.prototype.updateChooseIcon=function(){this.ui.sprite_icon_mine.spriteFrame=a.default.getCurrentPetChooseIcon(),this.ui.sprite_icon_partner.spriteFrame=a.default.getCurrentPartnerChooseIcon()},e.prototype.updateBarSchedule=function(){var t=this.ui.node_bar_Mask.getContentSize().height,e=a.default.game.barMaxSize*(a.default.game.currentTime/43200);this.ui.node_bar_Mask.setContentSize(e,t)},e.prototype.update=function(){this.node.active&&this.updateTime()},r([f],e)}(u.default);n.default=_,cc._RF.pop()},{"../../../GameController":"GameController","../../../common/ActionTransition":"ActionTransition","../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","../../../data/scene/DataCollectGeneral":"DataCollectGeneral","../../../manager/AssetsMng":"AssetsMng","../../ui/UIBase":"UIBase","./ParticleCoin":"ParticleCoin"}],DataCollectGeneral:[function(t,e,n){"use strict";cc._RF.push(e,"681860GOZRHaqZFZ7UmArby","DataCollectGeneral");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node_mine_tip_holder=this.node.getChildByName("mine_tip_holder"),this.label_time=this.node_mine_tip_holder.getChildByName("remain_time").getComponent(cc.Label),this.label_coin_txt=this.node_mine_tip_holder.getChildByName("coin_txt").getComponent(cc.Label),this.label_coin_gold=cc.find("gold/gold_label",this.node_mine_tip_holder).getComponent(cc.Label),this.label_coin_silver=cc.find("silver/silver_label",this.node_mine_tip_holder).getComponent(cc.Label),this.node_bar_Mask=cc.find("bar/bat_strip_mask",this.node_mine_tip_holder),this.node_icon_mine_box=this.node.getChildByName("icon_mine_box"),this.sprite_icon_mine=this.node_icon_mine_box.getChildByName("icon").getComponent(cc.Sprite),this.node_icon_partner_box=this.node.getChildByName("icon_partner_box"),this.sprite_icon_partner=this.node_icon_partner_box.getChildByName("icon").getComponent(cc.Sprite),this.node_coin_particle_holder=this.node.getChildByName("coin_particle_holder"),this.node_gold_coin_holder=this.node.getChildByName("gold_coin_holder"),this.node_sliver_coin_holder=this.node.getChildByName("sliver_coin_holder"),this.node_coin_level_holder=this.node.getChildByName("coin_level_holder"),this.label_gold=this.node_gold_coin_holder.getChildByName("txt").getComponent(cc.Label),this.label_sliver=this.node_sliver_coin_holder.getChildByName("txt").getComponent(cc.Label),this.btn_get=this.node.getChildByName("btn_get"),this.node_get_normal=this.btn_get.getChildByName("normal"),this.node_get_active=this.btn_get.getChildByName("active"),this.spine_road=this.node.getChildByName("road").getComponent(sp.Skeleton),this.spine_pet=this.node.getChildByName("pet").getComponent(sp.Skeleton),this.spine_partner=this.node.getChildByName("partner").getComponent(sp.Skeleton),this.spine_coin=this.node.getChildByName("coin").getComponent(sp.Skeleton)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataGame:[function(t,e,n){"use strict";cc._RF.push(e,"0fdd3GZQGJGxqJ+FslCjHX8","DataGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=this.node.getParent();this.Canvas=t.getChildByName("Canvas"),this.mine_mng_holder=this.Canvas.getChildByName("mine_mng_holder"),this.mine_holder=this.Canvas.getChildByName("mine_holder"),this.info_pop_holder=this.Canvas.getChildByName("info_pop_holder"),this.skin_pop_holder=this.Canvas.getChildByName("skin_pop_holder"),this.upgrade_holder=this.Canvas.getChildByName("upgrade_holder"),this.load_tip=this.Canvas.getChildByName("load_tip"),this.btn_close=this.Canvas.getChildByName("btn_close"),this.btn_info=this.Canvas.getChildByName("btn_info"),this.ver_str=this.Canvas.getChildByName("ver_str").getComponent(cc.Label)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataLoading:[function(t,e,n){"use strict";cc._RF.push(e,"0008dcZGeVCd79FDAnjf6f3","DataLoading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineCollect:[function(t,e,n){"use strict";cc._RF.push(e,"e3ba5jlSARHnasx6WtisttO","DataMineCollect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node_con_holder=this.node.getChildByName("con_holder"),this.node_view_holder=this.node_con_holder.getChildByName("view_holder"),this.node_con_1=this.node_view_holder.getChildByName("con_1"),this.btn_home=this.node.getChildByName("btn_home"),this.btn_vip=this.node.getChildByName("btn_vip")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineMngCon:[function(t,e,n){"use strict";cc._RF.push(e,"79162YREBtFPLtdy43/hcZX","DataMineMngCon");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node_view_holder=this.node.getChildByName("view_holder"),this.node_page_1=this.node_view_holder.getChildByName("con_1"),this.node_page_2=this.node_view_holder.getChildByName("con_2"),this.node_page_3=this.node_view_holder.getChildByName("con_3")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineMng:[function(t,e,n){"use strict";cc._RF.push(e,"adeeazM4dRK1rn5CeMn8Sqb","DataMineMng");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.tab_nav_holder=this.node.getChildByName("tab_holder"),this.con_holder=this.node.getChildByName("con_holder")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMinePetSelect:[function(t,e,n){"use strict";cc._RF.push(e,"f0a29L217FAM4rQ+9QnVoK+","DataMinePetSelect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node_item_slider_holder=this.node.getChildByName("item_slider_holder"),this.node_item_main=this.node_item_slider_holder.getChildByName("item_main"),this.node_arrow_holder=this.node.getChildByName("arrow_holder"),this.node_intro_holder=this.node.getChildByName("intro_holder"),this.node_intro_txt_group=this.node_intro_holder.getChildByName("txt_group"),this.label_intro_title=this.node_intro_txt_group.getChildByName("title").getComponent(cc.Label),this.label_intro_con=this.node_intro_txt_group.getChildByName("con").getComponent(cc.Label),this.btn_slider_arrow_left=this.node_arrow_holder.getChildByName("arrow_left"),this.btn_slider_arrow_right=this.node_arrow_holder.getChildByName("arrow_right"),this.btn_go=this.node.getChildByName("btn_go"),this.node_btn_go_normal=this.btn_go.getChildByName("normal"),this.node_btn_go_active=this.btn_go.getChildByName("active"),this.page_view=this.node_item_slider_holder.getComponent(cc.PageView),this.layout=this.node_item_main.getComponent(cc.Layout),this.node_choose_tip_main=this.node.getChildByName("choose_tip_main"),this.node_choose_tip_bg=this.node_choose_tip_main.getChildByName("bg"),this.node_choose_img_mask=this.node_choose_tip_main.getChildByName("mask"),this.node_choose_tip_img=this.node_choose_img_mask.getChildByName("img"),this.sprite_choose_tip_img=this.node_choose_tip_img.getComponent(cc.Sprite),this.node_choose_state=this.node_choose_tip_main.getChildByName("btn_state"),this.label_choose_tip_title=this.node_choose_tip_main.getChildByName("title").getComponent(cc.Label)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataMineToolBox:[function(t,e,n){"use strict";cc._RF.push(e,"0c9ebgvRsVFL4K6mEvb/+vq","DataMineToolBox");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node_item_slider_holder=this.node.getChildByName("item_slider_holder"),this.node_item_main=this.node_item_slider_holder.getChildByName("item_main"),this.node_arrow_holder=this.node.getChildByName("arrow_holder"),this.node_props_holder=this.node.getChildByName("props_holder"),this.node_pet_dialog_holder=this.node.getChildByName("pet_dialog_holder"),this.label_pet_dialog_txt=this.node_pet_dialog_holder.getChildByName("txt").getComponent(cc.Label),this.node_level_holder=this.node.getChildByName("level_holder"),this.node_level_bar=this.node_level_holder.getChildByName("level_bar"),this.ani_level_bar=this.node_level_bar.getChildByName("mask").getComponent(cc.Animation),this.label_level_num=this.node_level_holder.getChildByName("level_num").getComponent(cc.Label),this.node_intro_holder=this.node.getChildByName("intro_holder"),this.label_msg_tip=this.node_intro_holder.getChildByName("msg_tip").getComponent(cc.Label),this.label_item_name=this.node.getChildByName("item_name").getComponent(cc.Label),this.node_intro_con_1=this.node_intro_holder.getChildByName("con_1"),this.node_intro_con_2=this.node_intro_holder.getChildByName("con_2"),this.node_intro_con_3=this.node_intro_holder.getChildByName("con_3"),this.btn_confirm=this.node.getChildByName("btn_confirm"),this.node_confirm_active=this.btn_confirm.getChildByName("active"),this.node_state_tip=this.node.getChildByName("state_tip"),this.btn_slider_arrow_left=this.node_arrow_holder.getChildByName("arrow_left"),this.btn_slider_arrow_right=this.node_arrow_holder.getChildByName("arrow_right"),this.page_view=this.node_item_slider_holder.getComponent(cc.PageView),this.layout=this.node_item_main.getComponent(cc.Layout),this.node_choose_tip_main=this.node.getChildByName("choose_tip_main"),this.node_choose_tip_bg=this.node_choose_tip_main.getChildByName("bg"),this.node_choose_img_mask=this.node_choose_tip_main.getChildByName("mask"),this.node_choose_tip_img=this.node_choose_img_mask.getChildByName("img"),this.sprite_choose_tip_img=this.node_choose_tip_img.getComponent(cc.Sprite),this.node_choose_state=this.node_choose_tip_main.getChildByName("btn_state"),this.label_choose_tip_title=this.node_choose_tip_main.getChildByName("title").getComponent(cc.Label)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataUIMessage:[function(t,e,n){"use strict";cc._RF.push(e,"951fe/2bjRGuJYzEde9QRhM","DataUIMessage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node_main=this.node.getChildByName("main"),this.node_backBg=this.node.getChildByName("bg"),this.label_msg_txt=this.node_main.getChildByName("txt").getComponent(cc.Label),this.btn_main=this.node_main.getChildByName("btn_main"),this.btn_cancel=this.btn_main.getChildByName("btn_cancel"),this.btn_confirm=this.btn_main.getChildByName("btn_confirm"),this.label_cancel=this.btn_cancel.getChildByName("txt").getComponent(cc.Label),this.label_confirm=this.btn_confirm.getChildByName("txt").getComponent(cc.Label)},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],DataUIMusic:[function(t,e,n){"use strict";cc._RF.push(e,"87d10eQ+dlK/K0hO7FQVb4S","DataUIMusic");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node_main=this.node.getChildByName("main"),this.node_music=this.node_main.getChildByName("btn_music"),this.node_effect=this.node_main.getChildByName("btn_effect"),this.label_music=this.node_music.getChildByName("title").getComponent(cc.Label),this.label_effect=this.node_effect.getChildByName("title").getComponent(cc.Label),this.btn_music=this.node_music.getChildByName("switch_main"),this.btn_effect=this.node_effect.getChildByName("switch_main"),this.btn_close=this.node_main.getChildByName("btn_close"),this.label_close=this.btn_close.getChildByName("txt").getComponent(cc.Label),this.node_musicBg=this.btn_music.getChildByName("bg"),this.node_musicCircle=this.btn_music.getChildByName("circle"),this.node_effectBg=this.btn_effect.getChildByName("bg"),this.node_effectCircle=this.btn_effect.getChildByName("circle")},r([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],EventConst:[function(t,e,n){"use strict";cc._RF.push(e,"23077tDaiFOYJMfHPD1J4iF","EventConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.MainEvent=n.LoadEvent=n.SocketEvent=void 0;var o=function(){function t(){}return t.SOCKET_OPEN="SOCKET_OPEN",t.SOCKET_CLOSE="SOCKET_CLOSE",t}();n.SocketEvent=o;var i=function(){function t(){}return t.LOAD_PRELOAD_DONE="LOAD_PRELOAD_DONE",t.LOAD_SUCCESS="LOAD_SUCCESS",t}();n.LoadEvent=i;var r=function(){function t(){}return t.ENTER_MINE_COLLECT="ENTER_MINE_COLLECT",t.ENTER_MINE_MNG="ENTER_MINE_MNG",t.MINE_GENERAL_UPDATE="MINE_GENERAL_UPDATE",t.MINE_MNG_PAGE_SWITCH="MINE_MNG_PAGE_SWITCH",t.MESSAGE_SHOW="MESSAGE_SHOW",t.GET_POINT="GET_POINT",t.PET_UPGRADE_REQ="PET_UPGRADE_REQ",t.PET_UPGRADE="PET_UPGRADE",t.PET_UPGRADE_CHANGE="PET_UPGRADE_CHANGE",t.OPEN_SKIN_POP_REQ="OPEN_SKIN_POP_REQ",t.OPEN_SKIN_POP="OPEN_SKIN_POP",t.MINE_CHANGE_REQ="MINE_CHANGE_REQ",t}();n.MainEvent=r,cc._RF.pop()},{}],EventMng:[function(t,e,n){"use strict";cc._RF.push(e,"4ad72P7XjxKhJOAtex6Rmy3","EventMng"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=new cc.EventTarget,cc._RF.pop()},{}],GPGAPI:[function(t,e,n){"use strict";cc._RF.push(e,"9f2569Jys9BA5U+pyZK6gQC","GPGAPI"),Object.defineProperty(n,"__esModule",{value:!0}),n.GPGAPI=void 0;var o=t("../manager/EventMng"),i=function(){function t(){}return t.prototype.connect=function(){window.addEventListener("message",this.onReceiveMessage,!1)},t.prototype.send=function(t,e){var n={cmd:t,data:e};console.log("\u50b3\u9001\u5c01\u5305\u5594",n),window.parent.postMessage(n,"*")},t.prototype.onReceiveMessage=function(t){console.log("\u5f8c\u7aef\u6536\u9001\u5c01\u5305\u5594",t);var e=t.data.cmd,n=t.data.data;o.default.emit(e,n)},t}();n.GPGAPI=i,cc._RF.pop()},{"../manager/EventMng":"EventMng"}],GameCenter:[function(t,e,n){"use strict";cc._RF.push(e,"a0f07OGhsVLNaJb6hfQq2WI","GameCenter"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../manager/AssetsMng"),i=t("./config/CfgMine"),r=t("./config/CfgPartner"),a=t("./model/System"),s=t("./model/GameModel"),c=function(){function t(){this.cfgMine=i,this.cfgPartner=r,this.system=null,this.game=null,this.system=new a.default,this.game=new s.default,this.init()}return t.prototype.init=function(){for(var t=[this.system,this.game],e=0;e<t.length;e++)t[e].getData=this.getData.bind(this)},t.prototype.getData=function(t,e){return this[t]?this[t][e]:null},t.prototype.getCurrentPetChooseIcon=function(){var t=this.game.mineSelectID,e=this.game.mineLevel[t];return o.default.getAssets("pet_1.plist").getSpriteFrame(""+this.cfgMine[t].levelName[Math.floor((e-1)/3)])},t.prototype.getCurrentPartnerChooseIcon=function(){var t=this.game.partnerSelectID;return o.default.getAssets("pet_2.plist").getSpriteFrame("display_"+this.cfgPartner[t].levelName[0])},t}();n.default=new c,cc._RF.pop()},{"../manager/AssetsMng":"AssetsMng","./config/CfgMine":"CfgMine","./config/CfgPartner":"CfgPartner","./model/GameModel":"GameModel","./model/System":"System"}],GameController:[function(t,e,n){"use strict";cc._RF.push(e,"625adCwuHROjZwwrOIfvQIe","GameController"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./manager/AssetsMng"),i=t("./manager/SceneMng"),r=t("./manager/LangMng"),a=t("./api/GPGAPI"),s=function(){function t(){this.net=null}return t.prototype.init=function(){o.default.init(),i.default.init(),r.default.init(),this.net=new a.GPGAPI,this.net.connect()},t}();n.default=new s,cc._RF.pop()},{"./api/GPGAPI":"GPGAPI","./manager/AssetsMng":"AssetsMng","./manager/LangMng":"LangMng","./manager/SceneMng":"SceneMng"}],GameModel:[function(t,e,n){"use strict";cc._RF.push(e,"f2723OMcjJG6oiOUkAUM8YA","GameModel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../manager/EventMng"),a=t("../const/EventConst"),s=function(t){function e(){var e=t.call(this,"Game")||this;return e._mineSelectID=0,e.mineList=[0,0,0,0,0],e.mineLevel=[1,1,1,1,1],e.mineSkin=[0,0,0,0,0],e.mineAccessories=[0,0,0,0,0],e._partnerSelectID=0,e.partnerList=[0,0,0,0,0],e._canGo=!1,e.goldPoint=0,e.silverPoint=0,e.warehousePoint=0,e.warehousePoint_gold=0,e.warehousePoint_silver=0,e.timeActive=!1,e.countDownTimer=null,e.currentTime=0,e.grandTotalTime=120,e.barMaxSize=513,e.collect={gold:0,silver:0},e.levelConfig={silver:[0,0,0,0,0,0,0,0,0],can:[0,0,0,0,0,0,0,0,0],rate:[0,0,0,0,0,0,0,0,0]},e.canCount=0,e.mineSkinListData=[],e.levelSkinName=["obj_S","obj_M","obj_L"],e.mineBodyName=["pet01","pet01","pet01","pet01","pet01"],e.mineFloorName=["floor_01","floor_01","floor_01","floor_01","floor_01"],e.mineSkinName=["pet01"],e.mineRoadName=["map_gpg1","map_gpg1","map_gpg1","map_gpg1","map_gpg1"],e.partnerBodyName=["mining1","mining1","mining1","mining1","mining1"],e}return i(e,t),e.prototype.getMessageListeners=function(){var t,e=this;return(t={}).start=function(t){e.onStart(t)},t.action=function(t){e.onAction(t)},t.other=function(t){e.onOther(t)},t.upgrade=function(t){e.onUpgrade(t)},t.getbag=function(t){e.onGetBag(t)},t.use=function(t){e.onUse(t)},t},e.prototype.onStart=function(t){if(null!=t){this.goldPoint=t.wallet.gold,this.silverPoint=t.wallet.silver,this.mineSelectID=t.currentPet;for(var e=0;e<t.pet.length;e++){var n=t.pet[e];this.mineList[e]=n.own?1:0,1==this.mineList[e]&&(this.mineLevel[e]=n.info.level,this.mineSkin[e]=n.info.skin.id,this.mineAccessories[e]=n.info.deco.id)}for(this.partnerSelectID=t.currentElf,e=0;e<t.elf.length;e++)this.partnerList[e]=t.elf[e].own?1:0;this.levelConfig.silver=t.upgrade.silver,this.levelConfig.can=t.upgrade.can,this.levelConfig.rate=t.upgrade.chance,this.canCount=t.can,this.grandTotalTime=t.other.time,this.warehousePoint=t.other.expect.silver,this.warehousePoint_gold=this.formatBlind(t.other.expect.gold),this.warehousePoint_silver=this.formatBlind(t.other.expect.silver),this.timeStart(),r.default.emit(a.LoadEvent.LOAD_SUCCESS)}else r.default.emit(a.MainEvent.MESSAGE_SHOW,{code:"S_9100"})},e.prototype.onAction=function(t){null!=t&&(this.goldPoint=t.wallet.gold,this.silverPoint=t.wallet.silver,this.collect.gold=t.getmine.gold,this.collect.silver=t.getmine.silver,0==this.collect.gold&&0==this.collect.silver||r.default.emit(a.MainEvent.GET_POINT))},e.prototype.onOther=function(t){null!=t&&(this.timeStop(),this.grandTotalTime=t.time>43200?43200:t.time,this.warehousePoint=t.expect.silver,this.warehousePoint_gold=this.formatBlind(t.expect.gold),this.warehousePoint_silver=this.formatBlind(t.expect.silver),this.timeStart(),r.default.emit(a.MainEvent.MINE_GENERAL_UPDATE))},e.prototype.onUpgrade=function(t){this.canCount=t.can,this.goldPoint=t.gold,this.silverPoint=t.silver,r.default.emit("PET_UPGRADE",t)},e.prototype.onUse=function(t){var e=t.isSuccess;r.default.emit(a.MainEvent.ENTER_MINE_COLLECT,{state:e})},e.prototype.timeInit=function(){this.currentTime=this.grandTotalTime},e.prototype.timeStart=function(){var t=this;this.timeInit(),this.timeActive=!0;var e=0,n=(new Date).getTime(),o=function(){if(clearTimeout(t.countDownTimer),!(t.currentTime<0||t.currentTime>=43200)){e+=1e3;var i=(new Date).getTime()-n-e;t.currentTime+=1,t.currentTime<0?t.timeStop():t.countDownTimer=setTimeout(o,1e3-i)}};this.countDownTimer=setTimeout(o,1e3)},e.prototype.timeStop=function(){this.timeActive=!1,this.currentTime=0,clearTimeout(this.countDownTimer)},e.prototype.onGetBag=function(t){this.mineSkinListData=t.skinList,r.default.emit("OPEN_SKIN_POP",t)},e.prototype.hasMine=function(){return 0!=this.mineList[this.mineSelectID]},e.prototype.getPetBodyThemeName=function(t){var e=0==t||t>0?t:this.mineSelectID,n=this.mineBodyName[e];return this.mineSkin[e]>0&&(n=this.mineSkinName[this.mineSkin[e]]),n},e.prototype.getPetBodySkinName=function(t){var e="default";null==t&&(t=0),console.log(this.mineSelectID,t);var n=0==t||t>0?t:this.mineSelectID;return console.log(n),console.log(this.mineSkin),0==this.mineSkin[n]&&(e=this.levelSkinName[Math.floor((this.mineLevel[n]-1)/3)]),e},e.prototype.getPartnerBodyThemeName=function(){return this.partnerBodyName[this.partnerSelectID]},e.prototype.hasPartner=function(){return 0!=this.partnerList[this.partnerSelectID]},e.prototype.formatBlind=function(t){var e,n,o=t.toString().split(".")[0];return o.length<4?t.toString():(o.length>=4&&o.length<7?e=""==(n=(n=Number(t.toString().substring(o.length-3,o.length))/1e3).toString().slice(2,4))?t.toString().substring(0,o.length-3)+"K":t.toString().substring(0,o.length-3)+"."+n+"K":o.length>=7&&o.length<10?(n=Number(t.toString().substring(o.length-6,o.length-3))/1e3,e=""==(n=Number(n.toString().slice(2,4)))?t.toString().substring(0,o.length-6)+"M":t.toString().substring(0,o.length-6)+"."+n+"M"):o.length>=10&&(n=Number(t.toString().substring(o.length-9,o.length-6))/1e3,e=""==(n=Number(n.toString().slice(2,4)))?t.toString().substring(0,o.length-9)+"B":t.toString().substring(0,o.length-9)+"."+n+"B"),e)},Object.defineProperty(e.prototype,"mineSelectID",{get:function(){return this._mineSelectID},set:function(t){this._mineSelectID=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"partnerSelectID",{get:function(){return this._partnerSelectID},set:function(t){this._partnerSelectID=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canGo",{get:function(){return this._canGo=!(!this.hasMine()||!this.hasPartner()),this._canGo},set:function(t){this._canGo=t},enumerable:!1,configurable:!0}),e}(t("../IDataModel").default);n.default=s,cc._RF.pop()},{"../../manager/EventMng":"EventMng","../IDataModel":"IDataModel","../const/EventConst":"EventConst"}],IDataModel:[function(t,e,n){"use strict";cc._RF.push(e,"5b69fxbAnxDyKy2tHdRK8MZ","IDataModel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../manager/EventMng"),i=function(){function t(t){void 0===t&&(t="default"),this.modelName="default",this.modelName=t,this.registerListeners()}return t.prototype.registerListeners=function(){var t=this.getMessageListeners(),e=function(e){t.hasOwnProperty(e)&&o.default.on(e.toString(),function(n){t[e](n)})};for(var n in t)e(n)},t.prototype.getMessageListeners=function(){return{}},t.prototype.getData=function(){},t}();n.default=i,cc._RF.pop()},{"../manager/EventMng":"EventMng"}],LangMng:[function(t,e,n){"use strict";cc._RF.push(e,"f55cb6l4/tA2ohzJpkFRfG6","LangMng"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../data/GameCenter"),i=function(){function e(){this._data=null}return e.prototype.init=function(){var e=o.default.system.language;this._data=t(e)},e.prototype.getTxt=function(t){if(this._data)return null==t?t:null==this._data[t]?t:this._data[t]},e}();n.default=new i,cc._RF.pop()},{"../data/GameCenter":"GameCenter"}],Log:[function(t,e,n){"use strict";cc._RF.push(e,"91663yV+DxPHogKRY3ADlL1","Log"),Object.defineProperty(n,"__esModule",{value:!0}),n.Log=void 0;n.Log=function(){},cc._RF.pop()},{}],MainGame:[function(t,e,n){"use strict";cc._RF.push(e,"3d49ey3UNdNHILW3a7N49Vl","MainGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../GameController"),s=t("../../data/GameCenter"),c=t("../../manager/EventMng"),u=t("../../manager/LangMng"),l=t("../../data/const/EventConst"),h=t("../../data/const/ViewZorder"),p=t("../../data/scene/DataGame"),d=t("../mine/MineMng"),f=t("../mine/MineCollect"),_=t("../ui/UIBase"),g=t("../ui/UIHelp"),m=t("../ui/UIInfo"),y=t("../ui/UILoading"),v=t("../ui/UILoadTip"),b=t("../ui/UIUpgradePanel"),C=t("../ui/UISkinPop"),P=cc._decorator.ccclass,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.pages=[],e._prePageIndex=-1,e._currentPageIndex=0,e}return i(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(p.default),this.mineMng=this.ui.mine_mng_holder.addComponent(d.default),this.mineCollect=this.ui.mine_holder.addComponent(f.default),this.upgradePanel=this.ui.upgrade_holder.addComponent(b.default),this.infoPop=this.ui.info_pop_holder.addComponent(m.default),this.loadTip=this.ui.load_tip.addComponent(v.default),this.skinPop=this.ui.skin_pop_holder.addComponent(C.default),this.viewInit()},e.prototype.onShow=function(){this.initEvent(l.MainEvent.ENTER_MINE_COLLECT,this.onEnterMineCollect),this.initEvent(l.MainEvent.ENTER_MINE_MNG,this.onEnterMineMng),this.initEvent(l.MainEvent.MESSAGE_SHOW,this.onMessageShow),this.initEvent(l.MainEvent.PET_UPGRADE_REQ,this.onPetUpgradeReq),this.initEvent(l.MainEvent.PET_UPGRADE,this.onPetUpgrade),this.initEvent(l.MainEvent.OPEN_SKIN_POP_REQ,this.onOpenSkinPopReq),this.initEvent(l.MainEvent.OPEN_SKIN_POP,this.onOpenSkinPop),this.initEvent(l.MainEvent.MINE_CHANGE_REQ,this.onMineChangeReq),this.onRegisterEvent(this.ui.btn_close,this.onBtnCloseClick,this),this.onRegisterEvent(this.ui.btn_info,this.onBtnInfoClick,this),g.default.HideUI(y.default),this.switchPage(!1)},e.prototype.viewInit=function(){this.btnsSetZIndex(),this.createPages(),this.setVecStr()},e.prototype.createPages=function(){this.pages.push(this.mineMng),this.pages.push(this.mineCollect)},e.prototype.switchPage=function(t){this.prePageIndex!=this.currentPageIndex&&(-1!=this._prePageIndex&&this.pages[this.prePageIndex].hide(t),this.pages[this.currentPageIndex].show(t))},e.prototype.btnsSetZIndex=function(){var t=h.ViewZorder.Btn;this.ui.btn_close.zIndex=t,this.ui.btn_info.zIndex=t},e.prototype.btnClosePosReset=function(t){var e=cc.v2();switch(t){case 0:e=cc.v2(279,495);break;case 1:e=cc.v2(279,590)}this.ui.btn_close.setPosition(e)},e.prototype.btnInfoPosReset=function(t){var e=cc.v2();switch(t){case 0:e=cc.v2(185,495);break;case 1:e=cc.v2(185,590)}this.ui.btn_info.setPosition(e)},e.prototype.onPageSwitch=function(t){this.prePageIndex=this.currentPageIndex,this.currentPageIndex=t,this.switchPage(!0),this.btnClosePosReset(t),this.btnInfoPosReset(t)},e.prototype.onEnterMineCollect=function(t){this.loadTip.hide(),0==t.state?(this.onPageSwitch(1),this.mineCollect.collectGeneral.updateMine()):this.onMessageShow({type:2,content:u.default.getTxt("S_9102"),autoClose:!0})},e.prototype.onEnterMineMng=function(){this.onPageSwitch(0)},e.prototype.onMessageShow=function(t){g.default.ShowDialog(t)},e.prototype.onBtnCloseClick=function(){a.default.net.send("close",null)},e.prototype.onBtnInfoClick=function(){this.infoPop.show()},e.prototype.onMineChangeReq=function(){this.loadTip.show(),a.default.net.send("use",{petID:s.default.game.mineSelectID,elfID:s.default.game.partnerSelectID})},e.prototype.onPetUpgradeReq=function(t){this.loadTip.show(),a.default.net.send("upgrade",{petID:t.id})},e.prototype.onPetUpgrade=function(t){var e=this;this.loadTip.hide();var n=t.isUpgrade;switch(n){case 0:case 1:this.upgradePanel.show(t.petID);var o=setTimeout(function(){e.upgradePanel.hide(function(){c.default.emit("PET_UPGRADE_CHANGE",{state:n,id:t.petID})}),clearTimeout(o)},3e3);break;case 2:this.onUpgradeError("T_108");break;case 3:this.onUpgradeError("T_109");break;case 4:this.onUpgradeError("T_107")}s.default.game.mineLevel[t.petID]=t.level,this.mineMng.con.page1.slider.items[t.petID].setLevel(t.petID,t.level)},e.prototype.onUpgradeError=function(t){c.default.emit(l.MainEvent.MESSAGE_SHOW,{type:2,content:u.default.getTxt(t),autoClose:!0})},e.prototype.onOpenSkinPopReq=function(t){a.default.net.send("getbag",{petID:t.id,bag:"skin"})},e.prototype.onOpenSkinPop=function(t){this.skinPop.show(t)},Object.defineProperty(e.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(t){this._currentPageIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prePageIndex",{get:function(){return this._prePageIndex},set:function(t){this._prePageIndex=t},enumerable:!1,configurable:!0}),e.prototype.setVecStr=function(){this.ui.ver_str.node.zIndex=h.ViewZorder.Btn,this.ui.ver_str.string="v1.0.2"},r([P],e)}(_.default);n.default=I,cc._RF.pop()},{"../../GameController":"GameController","../../data/GameCenter":"GameCenter","../../data/const/EventConst":"EventConst","../../data/const/ViewZorder":"ViewZorder","../../data/scene/DataGame":"DataGame","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../mine/MineCollect":"MineCollect","../mine/MineMng":"MineMng","../ui/UIBase":"UIBase","../ui/UIHelp":"UIHelp","../ui/UIInfo":"UIInfo","../ui/UILoadTip":"UILoadTip","../ui/UILoading":"UILoading","../ui/UISkinPop":"UISkinPop","../ui/UIUpgradePanel":"UIUpgradePanel"}],MainLoading:[function(t,e,n){"use strict";cc._RF.push(e,"b5d27Ax+B5PZ7cPb5SXl9yK","MainLoading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../GameController"),s=t("../../manager/AssetsMng"),c=t("../../manager/SceneMng"),u=t("../../data/const/EventConst"),l=t("../ui/UIBase"),h=t("../ui/UIHelp"),p=t("../../manager/LangMng"),d=cc._decorator.ccclass,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUILoad=function(){h.default.ShowLoading(),h.default.ShowDialog(null),this.initEvent(u.LoadEvent.LOAD_PRELOAD_DONE,this.onAssetLoadDone),this.initEvent(u.LoadEvent.LOAD_SUCCESS,this.onLoadSuccess),this.initEvent(u.MainEvent.MESSAGE_SHOW,this.onMessageShow),c.default.resize()},e.prototype.onStart=function(){a.default.init(),this.onPreLoad()},e.prototype.onPreLoad=function(){s.default.onPreLoad()},e.prototype.onAssetLoadDone=function(){c.default.preload("mainGame",this.onNextSceneLoad.bind(this))},e.prototype.onNextSceneLoad=function(){a.default.net.send("start",null)},e.prototype.onLoadSuccess=function(){var t=setTimeout(function(){c.default.goGame(),clearTimeout(t)},1e3)},e.prototype.onMessageShow=function(t){h.default.ShowDialog({content:p.default.getTxt(t.code)})},e.prototype.update=function(){c.default.resizeUpdate()},r([d],e)}(l.default);n.default=f,cc._RF.pop()},{"../../GameController":"GameController","../../data/const/EventConst":"EventConst","../../manager/AssetsMng":"AssetsMng","../../manager/LangMng":"LangMng","../../manager/SceneMng":"SceneMng","../ui/UIBase":"UIBase","../ui/UIHelp":"UIHelp"}],MineCollect:[function(t,e,n){"use strict";cc._RF.push(e,"ccc99o6jJ9MNa1E8Z6mswH1","MineCollect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=t("../../manager/LangMng"),c=t("../ui/UIBase"),u=t("../../common/ActionTransition"),l=t("../../data/const/EventConst"),h=t("../../data/scene/DataMineCollect"),p=t("./collect/CollectGeneral"),d=cc._decorator.ccclass,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.currentPageIndex=0,e}return i(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(h.default),this.collectGeneral=this.ui.node_con_1.addComponent(p.default),this.viewInit()},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_home,this.onBtnHomeClick,this),this.onRegisterEvent(this.ui.btn_vip,this.onBtnVipClick,this)},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_home,this.onBtnHomeClick,this),this.unRegisterEvent(this.ui.btn_vip,this.onBtnVipClick,this)},e.prototype.viewInit=function(){this.pages.push(this.collectGeneral),this.node.active=!1},e.prototype.show=function(t){var e=this;void 0===t&&(t=!0),this.pages[this.currentPageIndex].viewReset(),u.ActionTransition.pageFadeIn(this.node,t,function(){e.pages[e.currentPageIndex].mineAniPlay()})},e.prototype.hide=function(t){void 0===t&&(t=!0),u.ActionTransition.pageFadeOut(this.node,t)},e.prototype.onBtnHomeClick=function(){a.default.emit(l.MainEvent.ENTER_MINE_MNG)},e.prototype.onBtnVipClick=function(){a.default.emit(l.MainEvent.MESSAGE_SHOW,{type:2,content:s.default.getTxt("S_9001"),autoClose:!0})},r([d],e)}(c.default);n.default=f,cc._RF.pop()},{"../../common/ActionTransition":"ActionTransition","../../data/const/EventConst":"EventConst","../../data/scene/DataMineCollect":"DataMineCollect","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../ui/UIBase":"UIBase","./collect/CollectGeneral":"CollectGeneral"}],MineMngCon:[function(t,e,n){"use strict";cc._RF.push(e,"6ed47uaRptLMIrZ6C4JFDxl","MineMngCon");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../ui/UIBase"),s=t("../../data/scene/DataMineMngCon"),c=t("./mng/MinePetSelect"),u=t("./mng/MinePartnerSelect"),l=t("./mng/MineToolBox"),h=cc._decorator.ccclass,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=[],e.preIndex=0,e.currentIndex=0,e}return i(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(s.default),this.page1=this.ui.node_page_1.addComponent(c.default),this.page2=this.ui.node_page_2.addComponent(u.default),this.page3=this.ui.node_page_3.addComponent(l.default),this.pages.push(this.page1,this.page2,this.page3),this.pageSwitch(0)},e.prototype.pageSwitch=function(t){this.preIndex=this.currentIndex,this.currentIndex=t;for(var e=0;e<this.pages.length;e++)this.pages[e].node.active=e==this.currentIndex;this.pages[this.currentIndex].reset&&this.pages[this.currentIndex].reset()},r([h],e)}(a.default);n.default=p,cc._RF.pop()},{"../../data/scene/DataMineMngCon":"DataMineMngCon","../ui/UIBase":"UIBase","./mng/MinePartnerSelect":"MinePartnerSelect","./mng/MinePetSelect":"MinePetSelect","./mng/MineToolBox":"MineToolBox"}],MineMngNav:[function(t,e,n){"use strict";cc._RF.push(e,"3ab80fqLElB9I8oFBRZmzCi","MineMngNav");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=t("../../data/const/EventConst"),c=t("../ui/UIBase"),u=cc._decorator.ccclass,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.navBtns=[],e.preIndex=0,e.currentIndex=0,e}return i(e,t),e.prototype.onUILoad=function(){this.btnsCreate()},e.prototype.onShow=function(){this.btnsBindOn()},e.prototype.onHide=function(){this.btnBindOff()},e.prototype.btnsCreate=function(){for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t];this.navBtns[t]=new h(e,t)}},e.prototype.btnsBindOn=function(){this.navBtns.forEach(function(t){t.eventBindOn()})},e.prototype.btnBindOff=function(){this.navBtns.forEach(function(t){t.eventBindOff()})},e.prototype.btnSwitch=function(t){this.preIndex=this.currentIndex,this.currentIndex=t,this.navBtns[this.preIndex].updateState(!1),this.navBtns[this.currentIndex].updateState(!0)},r([u],e)}(c.default);n.default=l;var h=function(){function t(t,e){this.color_black=new cc.Color(0,0,0,255),this.color_white=new cc.Color(255,255,255,255),this._id=0,this.node=t,this._id=e,this.node_activeBg=this.node.getChildByName("bg_active"),this.node_txt=this.node.getChildByName("txt")}return t.prototype.click=function(){a.default.emit(s.MainEvent.MINE_MNG_PAGE_SWITCH,this.id)},t.prototype.eventBindOn=function(){this.node.on("touchend",this.click,this)},t.prototype.eventBindOff=function(){this.node.off("touchend",this.click,this)},t.prototype.updateState=function(t){this.activeBgShow(t),this.node_txt.color=t?this.color_black:this.color_white},t.prototype.activeBgShow=function(t){this.node_activeBg.active=t,t&&(this.node_activeBg.opacity=0,this.node_activeBg.stopAllActions(),this.node_activeBg.runAction(cc.fadeIn(.15)))},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!1,configurable:!0}),t}();cc._RF.pop()},{"../../data/const/EventConst":"EventConst","../../manager/EventMng":"EventMng","../ui/UIBase":"UIBase"}],MineMng:[function(t,e,n){"use strict";cc._RF.push(e,"45f045uJgJKmrnqXFHFo6tj","MineMng");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=t("../../manager/LangMng"),c=t("../../common/ActionTransition"),u=t("../../data/const/EventConst"),l=t("../ui/UIBase"),h=t("../../data/scene/DataMineMng"),p=t("./MineMngNav"),d=t("./MineMngCon"),f=cc._decorator.ccclass,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e._currentIndex=0,e}return i(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(h.default),this.tabNav=this.ui.tab_nav_holder.addComponent(p.default),this.con=this.ui.con_holder.addComponent(d.default),this.viewInit()},e.prototype.onShow=function(){this.initEvent(u.MainEvent.MINE_MNG_PAGE_SWITCH,this.onPageSwitch)},e.prototype.viewInit=function(){0==this.con.pages[0].slider.getSliderState()&&(this.tabNav.navBtns[2].node.active=!1)},e.prototype.show=function(t){void 0===t&&(t=!0),c.ActionTransition.pageFadeIn(this.node,t)},e.prototype.hide=function(t){void 0===t&&(t=!0),c.ActionTransition.pageFadeOut(this.node,t)},e.prototype.onPageSwitch=function(t){this._currentIndex!=t&&(this.getHasPage(t)?(this.currentIndex=t,this.tabNav.btnSwitch(this.currentIndex),this.con.pageSwitch(this.currentIndex)):a.default.emit(u.MainEvent.MESSAGE_SHOW,{type:2,content:s.default.getTxt("S_9001"),autoClose:!0}))},e.prototype.getHasPage=function(t){return!!this.con.pages[t]},Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){this._currentIndex=t},enumerable:!1,configurable:!0}),r([f],e)}(l.default);n.default=_,cc._RF.pop()},{"../../common/ActionTransition":"ActionTransition","../../data/const/EventConst":"EventConst","../../data/scene/DataMineMng":"DataMineMng","../../manager/EventMng":"EventMng","../../manager/LangMng":"LangMng","../ui/UIBase":"UIBase","./MineMngCon":"MineMngCon","./MineMngNav":"MineMngNav"}],MinePartnerSelect:[function(t,e,n){"use strict";cc._RF.push(e,"7fcaetwU4JJoYylMh7oczeT","MinePartnerSelect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../data/GameCenter"),a=function(t){function e(){var e=t.call(this,1)||this;return e.setInitData(),e}return i(e,t),e.prototype.setInitData=function(){this.bodyName=r.default.game.partnerBodyName,this.floorName=r.default.game.mineFloorName},e}(t("./MineSelect").MineSelect);n.default=a,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter","./MineSelect":"MineSelect"}],MinePetProps:[function(t,e,n){"use strict";cc._RF.push(e,"8dd67LN9LBF2p4bHCx9YcRG","MinePetProps");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../ui/UIBase"),s=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUILoad=function(){},r([s],e)}(a.default);n.default=c,cc._RF.pop()},{"../../ui/UIBase":"UIBase"}],MinePetSelect:[function(t,e,n){"use strict";cc._RF.push(e,"36f187Vx9tGArp2Zx7M0LOh","MinePetSelect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../data/GameCenter"),a=function(t){function e(){var e=t.call(this,0)||this;return e.setInitData(),e}return i(e,t),e.prototype.reset=function(){this.slider.updateItemAni(),this.slider.updateLevel()},e.prototype.setInitData=function(){this.bodyName=r.default.game.mineBodyName,this.floorName=r.default.game.mineFloorName},e}(t("./MineSelect").MineSelect);n.default=a,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter","./MineSelect":"MineSelect"}],MineSelectItem:[function(t,e,n){"use strict";cc._RF.push(e,"53216EY6MZCD467i9KzmUsg","MineSelectItem"),Object.defineProperty(n,"__esModule",{value:!0}),n.MineSelectItem=void 0;var o=t("../../../data/GameCenter"),i=function(){function t(t,e,n,o,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),this.id=0,this.skinID=0,this.level=0,this.size={w:666,h:600},this.floorName="empty",this.node=t,this.node_spine_box=this.node.getChildByName("spine"),this.spine_body=this.node_spine_box.getChildByName("body").getComponent(sp.Skeleton),this.spine_floor=this.node_spine_box.getChildByName("floor").getComponent(sp.Skeleton),this.id=n,this.type=e,this.level=o,i&&(i.floorName&&(this.floorName=i.floorName),i.bodyAssets&&this.setBodySpineAssets(i.bodyAssets)),this.init()}return t.prototype.init=function(){this.setSkin(),this.play("IDLE")},t.prototype.play=function(t){this.bodyPlay(t),this.floorPlay(t)},t.prototype.bodyPlay=function(t){"IDLE"==t?this.spine_body.setAnimation(0,"select_idle",!0):"ACTION"==t&&this.spine_body.setAnimation(0,"select_act",!0)},t.prototype.floorPlay=function(t){if(this.spine_floor)if("IDLE"==t)this.spine_floor.setAnimation(0,""+this.floorName,!0);else if("ACTION"==t){var e="empty"==this.floorName?this.floorName+"_act":this.floorName;this.spine_floor.setAnimation(0,e,!0)}},t.prototype.setSkin=function(t){this.type>0||this.spine_body.setSkin(o.default.game.getPetBodySkinName(t))},t.prototype.upgradeSuccess=function(t,e){this.setLevel(t,e);var n=this.spine_body;n.setAnimation(0,"lv_success",!1),n.addAnimation(0,"idle",!0)},t.prototype.upgradeFail=function(){var t=this.spine_body;t.setAnimation(0,"lv_fail",!1),t.addAnimation(0,"idle",!0)},t.prototype.setLevel=function(t,e){this.level=e,this.setSkin(t)},t.prototype.setSpineNodePosition=function(t){this.node_spine_box.setPosition(t)},t.prototype.setBodySpineAssets=function(t){this.spine_body.skeletonData=t},t}();n.MineSelectItem=i,cc._RF.pop()},{"../../../data/GameCenter":"GameCenter"}],MineSelect:[function(t,e,n){"use strict";cc._RF.push(e,"b2f2byd4L5G6Z6W+vjV+m7B","MineSelect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.MineSelect=void 0;var r=t("./MineSlider"),a=t("../../ui/UIBase"),s=t("../../../data/scene/DataMinePetSelect"),c=function(t){function e(e){var n=t.call(this)||this;return n.type=null,n.bodyName=[],n.floorName=[],n.type=e,n}return i(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(s.default),this.slider=new r.MineSlider(this.ui,this.type)},e.prototype.onStart=function(){this.slider.init(),this.slider.createSliderList(this.getFloorAssets(),this.getBodyAssets())},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_go,this.onBtnGoClick,this),this.slider.show(),this.slider.arrowBtnsBindOn()},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_go,this.onBtnGoClick,this),this.slider.hide(),this.slider.arrowBtnsBindOff()},e.prototype.onBtnGoClick=function(){this.slider.onBtnGoClick()},e.prototype.getBodyAssets=function(){return this.bodyName},e.prototype.getFloorAssets=function(){return this.floorName},e}(a.default);n.MineSelect=c,cc._RF.pop()},{"../../../data/scene/DataMinePetSelect":"DataMinePetSelect","../../ui/UIBase":"UIBase","./MineSlider":"MineSlider"}],MineSlider:[function(t,e,n){"use strict";cc._RF.push(e,"057ddp8kttBb6HL7VXKwnBw","MineSlider"),Object.defineProperty(n,"__esModule",{value:!0}),n.MineSlider=void 0;var o=t("../../../data/GameCenter"),i=t("../../../manager/LangMng"),r=t("../../../manager/AssetsMng"),a=t("../../../manager/EventMng"),s=t("./MineSelectItem"),c=t("../../../common/ActionTransition"),u=t("../../../data/const/EventConst"),l=function(){function t(t,e,n){this.ui=null,this.items=[],this.state=0,this.pageWidth=300,this.itemOffsetY=150,this.layoutX=-333,this.cubeSizeProp=0,this.referenceMode=!1,this.sliderPageCallBack=null,this._prePageIndex=-1,this._currentPageIndex=1,this.ui=t,this.type=e,this._currentPageIndex=0==this.type?o.default.game.mineSelectID:o.default.game.partnerSelectID,this.updateGameCenterData(),this.updateChooseTip(),n&&(n.referenceMode&&(this.referenceMode=n.referenceMode),n.sliderPageCallBack&&(this.sliderPageCallBack=n.sliderPageCallBack))}return t.prototype.init=function(){this.cubeSizeProp=this.pageWidth/this.itemOffsetY,this.updateChooseTip()},t.prototype.show=function(){this.ui.page_view.node.on("scrolling",this.onSliderScrolling,this),this.ui.page_view.node.on("page-turning",this.onPageTurning,this),this.updateChooseTip(),this.updateBtnDisplayState()},t.prototype.hide=function(){this.ui.page_view.node.off("scrolling",this.onSliderScrolling,this),this.ui.page_view.node.off("page-turning",this.onPageTurning,this)},t.prototype.createSliderList=function(t,e){if(0!=this.getSliderState()){for(var n=r.default.getAssets("cube_item"),a=this.getListDate(),c=0;c<a.length;c++){var u=(p=this.ui.node_item_main.children[c]||cc.instantiate(n),a[c]),l=u>0?t[c]:"empty",h=u>0?r.default.getAssets(e[c]+".spine"):null;this.ui.page_view.addPage(p),this.items[c]=new s.MineSelectItem(p,this.type,u,o.default.game.mineLevel[c],{floorName:l,bodyAssets:h})}this.layoutActive(!1),this.ui.page_view.setCurrentPageIndex(this._currentPageIndex),this.updateItemIndex(),this.onPageTurning()}else{var p=this.ui.node_item_main.children[0];if(this.items[0]=new s.MineSelectItem(p,0,0),this.items[0].play("ACTION"),this.ui.label_intro_title&&(this.ui.label_intro_title.string=""),this.ui.label_intro_con){var d=0==this.type?"T_002":"T_001";this.ui.label_intro_con.string="\n"+i.default.getTxt(d)}}},t.prototype.updateCurrentPage=function(){this._prePageIndex=this._currentPageIndex,this._currentPageIndex=this.ui.page_view.getCurrentPageIndex(),this.updateGameCenterData()},t.prototype.updateChooseTip=function(){var t=0==this.type?o.default.game.hasPartner():o.default.game.hasMine(),e=0==this.type?o.default.cfgPartner[o.default.game.partnerSelectID]:o.default.cfgMine[o.default.game.mineSelectID],n=e.name;t?(this.ui.sprite_choose_tip_img.spriteFrame=this.getChooseTipImg(),this.ui.node_choose_tip_img.active=!0,this.ui.node_choose_state.active=!0,this.ui.label_choose_tip_title.string=n,this.ui.node_choose_tip_bg.color=new cc.Color(e.bgColor.r,e.bgColor.g,e.bgColor.b),this.ui.node_choose_tip_bg.opacity=255):(this.ui.node_choose_tip_img.active=!1,this.ui.node_choose_state.active=!1,this.ui.label_choose_tip_title.string=""+i.default.getTxt("T_005"),this.ui.node_choose_tip_bg.color=new cc.Color(0,0,0),this.ui.node_choose_tip_bg.opacity=110)},t.prototype.getChooseTipImg=function(){var t=null;switch(this.type){case 0:t=o.default.getCurrentPartnerChooseIcon();break;case 1:t=o.default.getCurrentPetChooseIcon()}return t},t.prototype.updateItemIndex=function(){for(var t=0;t<this.items.length;t++)this.items[t].node.zIndex=this.items.length-t},t.prototype.updateItemSpinePos=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t],n=(t-this._currentPageIndex)*this.itemOffsetY;e.setSpineNodePosition(new cc.Vec2(0,n))}},t.prototype.updateItemAni=function(){this._prePageIndex>=0&&this.items[this._prePageIndex]&&this.items[this._prePageIndex].play("IDLE"),this.items[this._currentPageIndex]&&this.items[this._currentPageIndex].play("ACTION")},t.prototype.updateItemIntro=function(){var t=this;if(this.ui.node_intro_txt_group){var e=this.getCfgData()[this.items[this._currentPageIndex].id];this.ui.label_intro_title.string!=e.name&&(this.ui.node_intro_txt_group.stopAllActions(),this.ui.node_intro_txt_group.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){if(t.ui.label_intro_title.string=e.name,t.ui.label_intro_con.string="\n"+e.intro,0==t.type&&0!=o.default.game.mineList[t.currentPageIndex]){var n=o.default.game.mineLevel[t.currentPageIndex];t.ui.label_intro_title.string+=" ("+i.default.getTxt("T_006")+n+")"}}),cc.delayTime(.1),cc.fadeIn(.15).easing(cc.easeSineOut()))))}},t.prototype.updateLevel=function(){var t=this.getCfgData();if(this.items[this._currentPageIndex]){var e=t[this.items[this._currentPageIndex].id];if(this.ui.label_intro_title.string=e.name,0==this.type&&0!=o.default.game.mineList[this.currentPageIndex]){var n=o.default.game.mineLevel[this.currentPageIndex];this.ui.label_intro_title.string+=" ("+i.default.getTxt("T_006")+n+")"}}},t.prototype.updateGameCenterData=function(){this.referenceMode||(0==this.type?o.default.game.mineSelectID=this._currentPageIndex:1==this.type&&(o.default.game.partnerSelectID=this._currentPageIndex))},t.prototype.getCfgData=function(){var t=null;switch(this.type){case 0:t=o.default.cfgMine;break;case 1:t=o.default.cfgPartner}return t},t.prototype.onPageTurning=function(){this.updateCurrentPage(),this.updateItemAni(),this.updateItemSpinePos(),this.updateItemIntro(),this.updateBtnDisplayState(),this.sliderPageCallBack&&this.sliderPageCallBack()},t.prototype.updateBtnDisplayState=function(){o.default.game.canGo?this.ui.node_btn_go_active&&(this.ui.node_btn_go_active.active=!0,this.ui.node_btn_go_normal.active=!1):this.ui.node_btn_go_active&&(this.ui.node_btn_go_active.active=!1,this.ui.node_btn_go_normal.active=!0)},t.prototype.updateSliderPage=function(t){var e="arrow_right"==t.currentTarget.name?this._currentPageIndex+1:this._currentPageIndex-1;this.ui.page_view.scrollToPage(e,.3)},t.prototype.getSliderState=function(){for(var t=this.getListDate(),e=0;e<t.length;e++)if(1==t[e]){this.state=1;break}return this.state},t.prototype.getListDate=function(){var t=null;switch(this.type){case 0:t=o.default.game.mineList;break;case 1:t=o.default.game.partnerList}return t},t.prototype.layoutActive=function(t){void 0===t&&(t=!0),this.ui.layout.updateLayout(),this.ui.layout.enabled=t},t.prototype.arrowBtnsBindOn=function(){this.ui.btn_slider_arrow_left.on("touchend",this.onArrowLeftClick,this),this.ui.btn_slider_arrow_right.on("touchend",this.onArrowRightClick,this)},t.prototype.arrowBtnsBindOff=function(){this.ui.btn_slider_arrow_left.off("touchend",this.onArrowLeftClick,this),this.ui.btn_slider_arrow_right.off("touchend",this.onArrowRightClick,this)},t.prototype.onSliderScrolling=function(){for(var t=this.ui.layout.node.getPosition(),e=0;e<this.items.length;e++){var n=(Math.abs(t.x)-Math.abs(this.layoutX)-e*this.pageWidth)/this.cubeSizeProp;this.items[e].setSpineNodePosition(new cc.Vec2(0,-n))}},t.prototype.onArrowLeftClick=function(t){this.updateSliderPage(t)},t.prototype.onArrowRightClick=function(t){this.updateSliderPage(t)},t.prototype.onBtnGoClick=function(){if(!o.default.game.canGo){var t=null;return o.default.game.hasMine()?o.default.game.hasPartner()||(t=i.default.getTxt("T_004")):t=i.default.getTxt("T_003"),void a.default.emit(u.MainEvent.MESSAGE_SHOW,{type:2,content:i.default.getTxt(""+t),autoClose:!0})}c.ActionTransition.btnBounce(this.ui.btn_go,function(){a.default.emit(u.MainEvent.MINE_CHANGE_REQ)})},Object.defineProperty(t.prototype,"prePageIndex",{get:function(){return this._prePageIndex},set:function(t){this._prePageIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPageIndex",{get:function(){return this._currentPageIndex},set:function(t){this._currentPageIndex=t},enumerable:!1,configurable:!0}),t}();n.MineSlider=l,cc._RF.pop()},{"../../../common/ActionTransition":"ActionTransition","../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","../../../manager/AssetsMng":"AssetsMng","../../../manager/EventMng":"EventMng","../../../manager/LangMng":"LangMng","./MineSelectItem":"MineSelectItem"}],MineToolBox:[function(t,e,n){"use strict";cc._RF.push(e,"70676VGeHRDhJygPwEOKUux","MineToolBox");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../data/GameCenter"),s=t("../../../manager/EventMng"),c=t("../../../manager/LangMng"),u=t("./MineSlider"),l=t("./ToolComponent"),h=t("../../../common/ActionTransition"),p=t("../../../data/const/EventConst"),d=t("../../ui/UIBase"),f=t("../../../data/scene/DataMineToolBox"),_=cc._decorator.ccclass,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlBts=[],e.introCon=[],e.btnCanClick=!1,e.currentToolBtnIndex=-1,e}return i(e,t),e.prototype.onUILoad=function(){this.ui=this.node.addComponent(f.default),this.mineSliderCreate(),this.toolBtnsCreate(),this.toolIntroConCreate()},e.prototype.onStart=function(){this.slider.init(),this.slider.createSliderList(a.default.game.mineFloorName,a.default.game.mineBodyName),this.viewInit()},e.prototype.onShow=function(){this.initEvent(p.MainEvent.PET_UPGRADE_CHANGE,this.onPetUpgradeChange),this.initEvent(p.MainEvent.MESSAGE_SHOW,this.onMessageShow),this.onRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this),this.slider.show(),this.slider.arrowBtnsBindOn(),this.viewReset(),this.toolBtnsBindOn()},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this),this.slider.hide(),this.slider.arrowBtnsBindOff(),this.toolBtnsBindOff()},e.prototype.viewInit=function(){this.controlBts[0].setCount(a.default.game.canCount),this.controlBts[0].setTitleTxt(c.default.getTxt("T_100")),this.controlBts[1].setTitleTxt(c.default.getTxt("T_110")),this.controlBts[2].setTitleTxt(c.default.getTxt("T_111")),this.ui.label_item_name.string="",this.levelBarUpdate()},e.prototype.viewReset=function(){this.currentToolBtnIndex=-1,this.btnCanClick=!1,this.msgTipShow(c.default.getTxt("T_008")),this.toolIntroConHide(),this.ui.node_confirm_active.active=!1,this.stateBoxHide()},e.prototype.mineSliderCreate=function(){this.slider=new u.MineSlider(this.ui,0,{referenceMode:!0,sliderPageCallBack:this.onSliderPageCallBack.bind(this)})},e.prototype.itemCheck=function(t){void 0===t&&(t=!0);var e=!1;return this.currentToolBtnIndex<0?e:(0==a.default.game.mineList[this.slider.currentPageIndex]?(this.msgTipShow(c.default.getTxt("T_009")),this.toolIntroConHide()):(this.msgTipHide(),this.toolIntroConUpdate(t),e=!0),e)},e.prototype.itemDialogShow=function(t){var e=this;this.ui.node_pet_dialog_holder.active=!0,this.ui.label_pet_dialog_txt.string=t,this.ui.node_pet_dialog_holder.opacity=255,this.ui.node_pet_dialog_holder.stopAllActions(),this.ui.node_pet_dialog_holder.runAction(cc.sequence(cc.delayTime(3),cc.fadeOut(.2),cc.callFunc(function(){e.ui.node_pet_dialog_holder.active=!1})))},e.prototype.toolBtnsCreate=function(){for(var t=0;t<this.ui.node_props_holder.children.length;t++){var e=this.ui.node_props_holder.children[t];this.controlBts[t]=new l.ToolBtn(e,t,this.onToolBtnClick.bind(this))}},e.prototype.toolBtnsUpdate=function(){this.controlBts[0].setCount(a.default.game.canCount)},e.prototype.toolBtnsBindOn=function(){for(var t=0;t<this.controlBts.length;t++)this.controlBts[t].bindOn()},e.prototype.toolBtnsBindOff=function(){for(var t=0;t<this.controlBts.length;t++)this.controlBts[t].bindOff(),this.controlBts[t].active(!1)},e.prototype.toolBtnSwitch=function(t){this.currentToolBtnIndex>=0&&this.controlBts[this.currentToolBtnIndex].active(!1),this.currentToolBtnIndex=t,this.controlBts[this.currentToolBtnIndex].active(!0),this.btnCanClick=this.itemCheck()},e.prototype.toolIntroConCreate=function(){this.introCon[0]=new l.ToolIntroCon(this.ui.node_intro_con_1,0,this.canIntroUpdate.bind(this)),this.introCon[1]=new l.ToolIntroCon(this.ui.node_intro_con_2,0,this.canIntroUpdate.bind(this)),this.introCon[2]=new l.ToolIntroCon(this.ui.node_intro_con_3,0,this.canIntroUpdate.bind(this))},e.prototype.toolIntroConHide=function(){for(var t=0;t<this.introCon.length;t++)this.introCon[t].hide()},e.prototype.toolIntroConUpdate=function(t){switch(this.toolIntroConHide(),this.introCon[this.currentToolBtnIndex].show(),this.currentToolBtnIndex){case 0:this.canIntroUpdate(),this.btnConfirmShow();break;case 1:this.btnConfirmHide(),this.decIntroUpdate();break;case 2:this.btnConfirmHide(),this.skinIntroUpdate(),t&&s.default.emit(p.MainEvent.OPEN_SKIN_POP_REQ,{id:this.slider.currentPageIndex})}},e.prototype.msgTipShow=function(t){this.ui.label_msg_tip.string=t;var e=this.ui.label_msg_tip.node;e.active=!0,e.opacity=0,e.stopAllActions(),e.runAction(cc.fadeIn(.1))},e.prototype.msgTipHide=function(){var t=this.ui.label_msg_tip.node;t.active&&(t.stopAllActions(),t.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.active=!1}))))},e.prototype.canIntroUpdate=function(){var t=a.default.game.mineLevel[this.slider.currentPageIndex]+1;if(this.ui.node_confirm_active.active=!1,t>=10)return this.toolIntroConHide(),void this.msgTipShow(c.default.getTxt("T_107"));if(this.ui.node_intro_con_1.active){var e=this.introCon[this.currentToolBtnIndex].node,n=e.getChildByName("g_1").getChildByName("count").getComponent(cc.Label),o=e.getChildByName("g_2").getChildByName("count").getComponent(cc.Label),i=e.getChildByName("g_2").getChildByName("count_tip").getComponent(cc.Label),r=e.getChildByName("g_3").getChildByName("txt_1").getComponent(cc.RichText),s=a.default.game.levelConfig.silver[t-2],u=a.default.game.levelConfig.can[t-2];n.string=""+s,o.string="x"+u,i.string="("+a.default.game.canCount+"/"+u+")",r.string=c.default.getTxt("T_103")+" "+t+"\n\r"+c.default.getTxt("T_104")+" <color = #ffc600>"+a.default.game.levelConfig.rate[t-2]+"%</c>",a.default.game.silverPoint>=s&&a.default.game.canCount>=u&&(this.ui.node_confirm_active.active=!0)}},e.prototype.decIntroUpdate=function(){0==a.default.game.mineAccessories[this.slider.currentPageIndex]&&(this.ui.node_intro_con_2.active=!1,this.msgTipShow(c.default.getTxt("T_112")))},e.prototype.skinIntroUpdate=function(){0==a.default.game.mineSkin[this.slider.currentPageIndex]&&(this.ui.node_intro_con_3.active=!1,this.msgTipShow(c.default.getTxt("T_113")))},e.prototype.levelBarShow=function(){this.ui.node_level_holder.active=!0},e.prototype.levelBarHide=function(){this.ui.node_level_holder.active=!1},e.prototype.levelBarUpdate=function(){this.ui.label_level_num.string="LV."+a.default.game.mineLevel[this.slider.currentPageIndex]},e.prototype.onToolBtnClick=function(t){this.introCon[t]?this.toolBtnSwitch(t):s.default.emit(p.MainEvent.MESSAGE_SHOW,{type:2,content:c.default.getTxt("S_9001"),autoClose:!0})},e.prototype.onBtnConfirmClick=function(){var t=this;this.unRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this),h.ActionTransition.btnBounce(this.ui.btn_confirm,function(){t.btnCanClick?s.default.emit("PET_UPGRADE_REQ",{id:t.slider.currentPageIndex}):t.onRegisterEvent(t.ui.btn_confirm,t.onBtnConfirmClick,t)})},e.prototype.onSliderPageCallBack=function(){this.btnCanClick=this.itemCheck(!1),0==a.default.game.mineList[this.slider.currentPageIndex]?(this.levelBarHide(),this.ui.label_item_name.string=""):(this.levelBarShow(),this.ui.label_item_name.string=a.default.cfgMine[this.slider.currentPageIndex].name)},e.prototype.onPetUpgradeChange=function(t){this.onRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this),this.toolBtnsUpdate(),this.levelBarUpdate(),this.canIntroUpdate();var e=a.default.game.mineLevel[t.id];0==t.state?(this.slider.items[t.id].upgradeSuccess(t.id,e),this.itemDialogShow(c.default.getTxt("T_105")),this.ui.ani_level_bar.play()):(this.slider.items[t.id].upgradeFail(),this.itemDialogShow(c.default.getTxt("T_106")))},e.prototype.onMessageShow=function(){this.onRegisterEvent(this.ui.btn_confirm,this.onBtnConfirmClick,this)},e.prototype.stateBoxShow=function(){this.ui.node_state_tip.active=!0},e.prototype.stateBoxHide=function(){this.ui.node_state_tip.active=!1},e.prototype.btnConfirmShow=function(){this.ui.btn_confirm.active=!0},e.prototype.btnConfirmHide=function(){this.ui.btn_confirm.active=!1},r([_],e)}(d.default);n.default=g,cc._RF.pop()},{"../../../common/ActionTransition":"ActionTransition","../../../data/GameCenter":"GameCenter","../../../data/const/EventConst":"EventConst","../../../data/scene/DataMineToolBox":"DataMineToolBox","../../../manager/EventMng":"EventMng","../../../manager/LangMng":"LangMng","../../ui/UIBase":"UIBase","./MineSlider":"MineSlider","./ToolComponent":"ToolComponent"}],MusicMng:[function(t,e,n){"use strict";cc._RF.push(e,"5b610IWD/FEgp5Yjbypp1Sk","MusicMng"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../data/GameCenter"),i=function(){function t(){this._data={},this._musicID=null}return t.prototype.init=function(){this._volMusic=o.default.system.music_vol,this._volEffect=o.default.system.effect_vol,this.musicVolSet(),this.effectVolSet()},t.prototype.preLoad=function(t){this.audioLoad("music/preload",t)},t.prototype.load=function(t){this.audioLoad("music/main",t)},t.prototype.audioLoad=function(t,e){var n=this;cc.loader.loadResDir(t,cc.AudioClip,function(t,o){for(var i in o)n._data[o[i]._name]=o[i];e&&e()})},t.prototype.switchMusic=function(){return o.default.system.is_open_music=!o.default.system.is_open_music,this.musicVolSet(),o.default.system.is_open_music},t.prototype.musicPlay=function(t,e){return void 0===e&&(e=!0),this.musicStop(),this._musicID=cc.audioEngine.playMusic(this._data[t],e),this._musicID},t.prototype.musicStop=function(){cc.audioEngine.stopMusic()},t.prototype.musicVolSet=function(t){t&&(this._volMusic=t),cc.audioEngine.setMusicVolume(this.getMusicState()?this._volMusic:0)},t.prototype.getMusicState=function(){return o.default.system.is_open_music},t.prototype.switchEffect=function(){return o.default.system.is_open_sound=!o.default.system.is_open_sound,this.effectVolSet(),o.default.system.is_open_sound},t.prototype.effectPlay=function(t,e){if(void 0===e&&(e=!1),o.default.system.is_open_sound)return cc.audioEngine.playEffect(this._data[t],e)},t.prototype.effectStop=function(t){cc.audioEngine.stop(t)},t.prototype.effectVolSet=function(){cc.audioEngine.setEffectsVolume(o.default.system.is_open_sound?this._volEffect:0)},t.prototype.getEffectState=function(){return o.default.system.is_open_sound},t.prototype.btnClick=function(){this.effectPlay("button_01")},t}();n.default=new i,cc._RF.pop()},{"../data/GameCenter":"GameCenter"}],NTD:[function(t,e){"use strict";cc._RF.push(e,"b1a0dmpxSdCiqqmWG39U2Fb","NTD"),e.exports={S_9100:"\u9023\u7dda\u932f\u8aa4!",S_9001:"\u5c1a\u672a\u958b\u653e!",S_9102:"\u64cd\u4f5c\u5931\u6557!",T_001:"\u60a8\u9084\u672a\u6709\u5c0f\u5925\u4f34\u5594\n\u5feb\u53bb\u5f97\u5230\u4e00\u96bb\u4f60\u7684\u5c0f\u5925\u4f34\u5427!",T_002:"\u60a8\u9084\u672a\u6709\u7926\u6a5f\u5594\n\u5feb\u53bb\u5f97\u5230\u4e00\u96bb\u4f60\u7684\u7926\u6a5f\u5427!",T_003:"\u60a8\u9084\u672a\u9078\u5b9a\u5bf5\u7269\u5594",T_004:"\u60a8\u9084\u672a\u9078\u5b9a\u5c0f\u5925\u4f34\u5594",T_005:"\u672a\u9078\u64c7",T_006:"LV.",T_007:"\u4f7f\u7528!",T_008:"\u8981\u9078\u54ea\u4e00\u500b\u5462?",T_009:"\u60a8\u9084\u672a\u96cd\u6709\u6b64\u7926\u6a5f\u5594!",T_100:"\u795e\u5947\u7f50\u982d",T_101:"--",T_102:"--",T_103:"\u5347\u7d1a\u81f3\u7b49\u7d1a",T_104:"\u6210\u529f\u7387",T_105:"\u5629!!!\u6211\u89ba\u5f97\u5168\u8eab\n\r\u5145\u6eff\u529b\u91cf~",T_106:"\u6211\u76f8\u4fe1\u4e0b\u6b21\u4e00\u5b9a\n\r\u6703\u6210\u529f\u7684!!",T_107:"\u7b49\u7d1a\u5df2\u9054\u4e0a\u9650!!",T_108:"\u60a8\u7684\u9280\u5e63\u4e0d\u8db3\u5594~",T_109:"\u60a8\u7684\u7f50\u982d\u4e0d\u8db3\u5594~",T_110:"\u98fe\u54c1",T_111:"\u9020\u578b",T_112:"\u4e0d\u986f\u793a\u98fe\u54c1",T_113:"\u4e0d\u986f\u793a\u9020\u578b",T_114:"\u7a7a",I_001:"\u7926\u6a5f\u529f\u80fd",I_002:"\u7926\u6a5f\u6bcf\u5c0f\u6642\u90fd\u6703\u7d66\u4e88\u73a9\u5bb6\u4e00\u5b9a\u6578\u91cf\u7684\u9322\u5e63\uff0c\u6bcf\u904e\u516d\u5c0f\u6642\u53ef\u9818\u4e00\u6b21\uff0c\u5341\u4e8c\u5c0f\u6642\u5373\u9054\u4e0a\u9650\u4e0d\u518d\u7d2f\u7a4d\u3002!",I_003:"\u7926\u6a5f\u7b49\u7d1a",I_004:"\u7926\u6a5f\u6703\u96a8\u8457\u7b49\u7d1a\u7684\u6210\u9577\u800c\u589e\u52a0\u6240\u5f97\u7684\u734e\u52f5\u3002\u6d88\u8017\u7f50\u982d\u53ca\u9280\u5e63\u6709\u4e00\u5b9a\u6a5f\u7387\u53ef\u4ee5\u63d0\u5347\u7926\u6a5f\u7b49\u7d1a\u3002"},cc._RF.pop()},{}],ParticleCoin:[function(t,e,n){"use strict";cc._RF.push(e,"b589ddNgZxFCbiwnKmoPLRW","ParticleCoin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../ui/UIBase"),s=t("../../../manager/AssetsMng"),c=cc._decorator.ccclass,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerPos=cc.v2(0,0),e.sprayRange=270,e.sprayRangeMin=60,e.scaleVal=.6,e}return i(e,t),e.prototype.onUILoad=function(){this.node_coin_container=this.node.getChildByName("container"),this.node_icon_gold=this.node.getChildByName("icon_gold"),this.node_icon_sliver=this.node.getChildByName("icon_sliver"),this.goldCoinPrefab=s.default.getAssets("coin_gold_prefab"),this.sliverCoinPrefab=s.default.getAssets("coin_sliver_prefab")},e.prototype.createCoins=function(t,e,n,o){this.centerPos=t,this.createCoinNode(1,e),this.createCoinNode(0,n);var i=setTimeout(function(){o&&o(),clearTimeout(i)},1e3)},e.prototype.createCoinNode=function(t,e){for(var n=0;n<e;n++){var o=0==t?this.sliverCoinPrefab:this.goldCoinPrefab,i=cc.instantiate(o),r=this.getExplosionTargetPos();i.angle=360*Math.random(),i.setPosition(this.centerPos),i.setScale(this.scaleVal),this.node_coin_container.addChild(i),this.explosionAniPlay(i,r,t)}},e.prototype.coinIconJump=function(t){t.runAction(cc.sequence(cc.scaleTo(.08,1.3).easing(cc.easeSineOut()),cc.scaleTo(.06,1)))},e.prototype.explosionAniPlay=function(t,e,n){var o=this,i=0==n?this.node_icon_sliver.position:this.node_icon_gold.position,r=t.children[0].getComponent(cc.Animation),a=e.x+t.x,s=e.y+t.y;r.play(),t.runAction(cc.sequence(cc.moveTo(.3,a,s).easing(cc.easeCubicActionOut()),cc.delayTime(Math.random()),cc.callFunc(function(){r.stop()}),cc.moveTo(.8,i.x,i.y).easing(cc.easeInOut(3)),cc.callFunc(function(){t.destroy(),o.coinIconJump(0==n?o.node_icon_sliver:o.node_icon_gold)})))},e.prototype.getExplosionTargetPos=function(){var t=Math.random()*Math.PI*2,e=Math.random()*this.sprayRange+this.sprayRangeMin,n=e*Math.cos(t),o=e*Math.sin(t);return cc.v2(n,o)},r([c],e)}(a.default);n.default=u,cc._RF.pop()},{"../../../manager/AssetsMng":"AssetsMng","../../ui/UIBase":"UIBase"}],PropSelectPop:[function(t,e,n){"use strict";cc._RF.push(e,"d4a94TBtqJGB7bW3Gnm6qbA","PropSelectPop");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../manager/LangMng"),a=t("../../ui/UIBase"),s=t("../../../data/const/ViewZorder"),c=function(){function t(t,e,n){this.id=-1,this.clickCallBack=null,this.canClick=!0,this.node=t,this.id=e,n&&n.clickCallBack&&(this.clickCallBack=n.clickCallBack),this.node_normal=this.node.getChildByName("normal"),this.node_active=this.node.getChildByName("active"),this.label_txt=this.node.getChildByName("txt").getComponent(cc.Label),n&&n.iconNormal&&(this.sprite_normal_icon=this.node_normal.getChildByName("icon").getComponent(cc.Sprite),this.sprite_normal_icon.spriteFrame=n.iconNormal),n&&n.iconActive&&(this.sprite_active_icon=this.node_active.getChildByName("icon").getComponent(cc.Sprite),this.sprite_active_icon.spriteFrame=n.iconActive),this.init()}return t.prototype.init=function(){this.setPieceNum("")},t.prototype.show=function(){this.node_normal.active=!1,this.node_active.active=!0},t.prototype.hide=function(){this.node_normal.active=!0,this.node_active.active=!1},t.prototype.setPieceNum=function(t){this.label_txt.string=t},t.prototype.clickBindOn=function(){this.node.on("touchend",this.onClick,this)},t.prototype.clickBindOff=function(){this.node.off("touchend",this.onClick,this)},t.prototype.onClick=function(){this.clickCallBack&&this.canClick&&this.clickCallBack(this.id)},t.prototype.remove=function(){var t=this.label_txt;t.string=r.default.getTxt("T_114"),t.node.setPosition(0,0),t.node.color=new cc.Color(170,170,170),t.fontSize=30,this.sprite_normal_icon.node.active=!1,this.sprite_active_icon.node.active=!1,this.canClick=!1},t.prototype.updateData=function(t){var e=t.info;e&&this.setPieceNum(e.quantity+"/"+e.require),this.canClick=!0},t}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentIndex=-1,e.ctrlBtns=[],e.mineID=-1,e.langTxtData={noDisplay:""},e.btnIconImg=null,e}return i(e,t),e.prototype.onUILoad=function(){this.node_main=this.node.getChildByName("main"),this.node_view_holder=this.node_main.getChildByName("view_holder"),this.node_view_con=this.node_view_holder.getChildByName("con"),this.no_txt=this.node_view_holder.getChildByName("no_txt").getComponent(cc.Label),this.node_btns_holder=this.node_main.getChildByName("btns_holder"),this.btn_close=this.node_main.getChildByName("btn_close"),this.viewInit(),this.hide()},e.prototype.show=function(t){this.node.active=!0,this.mineID=t.petID,this.btnsInfoUpdate(),this.change(this.getCurrentSelectID(this.mineID)),this.onRegisterEvent(this.btn_close,this.onBtnClose,this)},e.prototype.hide=function(){this.node.active=!1,this.unRegisterEvent(this.btn_close,this.onBtnClose,this)},e.prototype.onBtnClose=function(){this.hide()},e.prototype.change=function(t){this.currentIndex>=0&&this.ctrlBtns[this.currentIndex].hide(),this.currentIndex=t,this.ctrlBtns[t].show()},e.prototype.viewInit=function(){this.setOrder(),this.setNoUseTxt(),this.previewHide(),this.btnsCreate()},e.prototype.previewShow=function(){this.node_view_con.active=!0},e.prototype.previewHide=function(){this.node_view_con.active=!1},e.prototype.noUseShow=function(){this.no_txt.node.active=!0},e.prototype.noUseHide=function(){this.no_txt.node.active=!1},e.prototype.btnsCreate=function(){for(var t=this,e=function(e){var o=n.node_btns_holder.children[e],i=new c(o,e,{iconNormal:t.btnIconImg&&t.btnIconImg.n?t.btnIconImg.n[e]:null,iconActive:t.btnIconImg&&t.btnIconImg.a?t.btnIconImg.a[e]:null,clickCallBack:n.btnOnClick.bind(n)});n.ctrlBtns.push(i)},n=this,o=0;o<8;o++)e(o)},e.prototype.btnsInfoUpdate=function(){for(var t=this.getListData(),e=1;e<this.ctrlBtns.length;e++)t[e-1]?this.ctrlBtns[e].updateData(t[e-1]):this.ctrlBtns[e].remove()},e.prototype.btnsClickOn=function(){this.ctrlBtns.forEach(function(t){t.clickBindOn()})},e.prototype.btnsClickOff=function(){this.ctrlBtns.forEach(function(t){t.clickBindOff()})},e.prototype.btnOnClick=function(t){this.currentIndex!=t&&this.change(t)},e.prototype.setOrder=function(){this.node.zIndex=s.ViewZorder.UI},e.prototype.setNoUseTxt=function(){this.no_txt.string=this.langTxtData?this.langTxtData.noDisplay:""},e.prototype.getListData=function(){return[]},e.prototype.getPieceMaxNum=function(){return 0},e.prototype.getCurrentSelectID=function(){return null},e}(a.default);n.default=u,cc._RF.pop()},{"../../../data/const/ViewZorder":"ViewZorder","../../../manager/LangMng":"LangMng","../../ui/UIBase":"UIBase"}],SceneMng:[function(t,e,n){"use strict";cc._RF.push(e,"1ffbcqd11JElod7SHTW99A/","SceneMng"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../controllers/ui/UIMessage"),r=t("../controllers/ui/UIHelp"),a=t("../controllers/ui/UILoading");(function(t){t[t.Login=0]="Login",t[t.Game=1]="Game"})(o||(o={}));var s=function(){function t(){this._nowScene=o.Login,this._resizeActive=!1,this._resizeDt=0,this.init()}return t.prototype.init=function(){this.resizeBindOn()},t.prototype.preload=function(t,e){cc.director.preloadScene(t,e)},t.prototype.load=function(t){var e=this;cc.director.loadScene(t,function(){e.resize()})},t.prototype.goGame=function(){this.load("mainGame"),this._nowScene=o.Game},t.prototype.getCurrentSceneName=function(){return this._nowScene},t.prototype.resize=function(){this.setCanvasSize(),r.default.Resize(a.default),r.default.Resize(i.default)},t.prototype.setCanvasSize=function(){if(cc){var t=this.getWinSize();t.height/t.width<=16/9?cc.view.setDesignResolutionSize(750,1333,new cc.ResolutionPolicy(cc.ContainerStrategy.PROPORTION_TO_FRAME,cc.ContentStrategy.NO_BORDER)):t.height/t.width>16/9&&t.height/t.width<=19.5/9?cc.view.setDesignResolutionSize(750,1624,new cc.ResolutionPolicy(cc.ContainerStrategy.EQUAL_TO_FRAME,cc.ContentStrategy.FIXED_WIDTH)):cc.view.setDesignResolutionSize(750,1624,new cc.ResolutionPolicy(cc.ContainerStrategy.PROPORTION_TO_FRAME,cc.ContentStrategy.NO_BORDER))}},t.prototype.resizeBindOn=function(){var t=this;window.addEventListener("resize",this.debounce(function(){t.resize(),t._resizeActive=!0}))},t.prototype.resizeUpdate=function(){this._resizeActive&&(this._resizeDt++,(this._resizeDt<=3||this._resizeDt>=96)&&this.resize(),this._resizeDt>100&&(this._resizeActive=!1,this._resizeDt=0))},t.prototype.debounce=function(t){var e;return function(n){e&&clearTimeout(e),e=setTimeout(t,300,n)}},t.prototype.getWinSize=function(){return{width:window.innerWidth,height:window.innerHeight}},Object.defineProperty(t.prototype,"nowScene",{get:function(){return this._nowScene},set:function(t){this._nowScene=t},enumerable:!1,configurable:!0}),t}();n.default=new s,cc._RF.pop()},{"../controllers/ui/UIHelp":"UIHelp","../controllers/ui/UILoading":"UILoading","../controllers/ui/UIMessage":"UIMessage"}],System:[function(t,e,n){"use strict";cc._RF.push(e,"a67c9ki4oxP0I5lYcxGk/fB","System");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this,"System")||this;return e.developMode=0,e.language="NTD",e}return i(e,t),e}(t("../IDataModel").default);n.default=r,cc._RF.pop()},{"../IDataModel":"IDataModel"}],ToolComponent:[function(t,e,n){"use strict";cc._RF.push(e,"296d8BDkOlGEIbDuK7/FYDQ","ToolComponent"),Object.defineProperty(n,"__esModule",{value:!0}),n.ToolIntroCon=n.ToolBtn=void 0;var o=function(){function t(t,e,n){this.id=-1,this.clickCallback=null,this.color_red=null,this.color_black=null,this.id=e,this.node=t,this.count_box=this.node.getChildByName("count_box"),this.count_bg=this.count_box.getChildByName("bg"),this.label_count=this.count_box.getChildByName("number").getComponent(cc.Label),this.bg_active=this.node.getChildByName("bg_active"),this.title_main=this.node.getChildByName("title"),this.label_title=this.title_main.getChildByName("txt").getComponent(cc.Label),this.color_red=new cc.Color(255,59,59),this.color_black=new cc.Color(0,0,0),n&&(this.clickCallback=n)}return t.prototype.active=function(t){this.bg_active.active=t,this.title_main.active=t,this.count_bg.color=t?this.color_red:this.color_black},t.prototype.setCount=function(t){this.label_count.string=t},t.prototype.setTitleTxt=function(t){this.label_title.string=t},t.prototype.bindOn=function(){this.node.on("touchend",this.onClick,this)},t.prototype.bindOff=function(){this.node.off("touchend",this.onClick,this)},t.prototype.onClick=function(){this.clickCallback&&this.clickCallback(this.id)},t}();n.ToolBtn=o;var i=function(){function t(t,e,n){this.id=-1,this.updateIntro=null,this.node=t,this.id=e,n&&(this.updateIntro=n)}return t.prototype.show=function(){this.node.active=!0,this.updateIntro&&this.updateIntro()},t.prototype.hide=function(){this.node.active&&(this.node.active=!1)},t}();n.ToolIntroCon=i,cc._RF.pop()},{}],UIBase:[function(t,e,n){"use strict";cc._RF.push(e,"2b6cedKGxRIG6XYQhia9aYu","UIBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/EventMng"),s=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!1,configurable:!0}),e.getUrl=function(){return"prefab/"+this.prefabUrl},e.getName=function(){return this.className},e.prototype.init=function(t){this.onInit(t)},e.prototype.onLoad=function(){this._notifyEventList=new Map,this._registerEventList=new Map,this.onUILoad()},e.prototype.start=function(){this.onStart()},e.prototype.onDestroy=function(){this.onUIDestroy()},e.prototype.onEnable=function(){this.onRegisterEvent(this.node,this.touchEvent,this),this.onShow()},e.prototype.onDisable=function(){this.unRegisterEvent(this.node,this.touchEvent,this),this.onHide();var t=this;this._notifyEventList.forEach(function(e,n){a.default.off(n,e,t)},this),this._notifyEventList.clear()},e.prototype.initEvent=function(t,e){a.default.on(t,e,this),this._notifyEventList.set(t,e)},e.prototype.touchEvent=function(t){t.stopPropagation()},e.prototype.onRegisterEvent=function(t,e,n){void 0===n&&(n=null),t&&(t.on(cc.Node.EventType.TOUCH_END,e,n),this._registerEventList.set(t.name,{callback:e,target:n}))},e.prototype.unRegisterEvent=function(t,e,n){void 0===n&&(n=null),t.off(cc.Node.EventType.TOUCH_END,e,n)},e.prototype.getCanvas=function(){var t=cc.find("Canvas");return cc.v2(t.x,t.y)},e.prototype.onInit=function(){},e.prototype.onUILoad=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onStart=function(){},e.prototype.onShow=function(){},e.prototype.onHide=function(){},r([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../manager/EventMng":"EventMng"}],UIHelp:[function(t,e,n){"use strict";cc._RF.push(e,"0f7597DOsZLc7J+fGCabqaN","UIHelp"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../manager/UIMng"),i=t("../../data/const/ViewZorder"),r=t("./UILoading"),a=t("./UIMessage"),s=function(){function t(){}return t.ShowUI=function(t){o.default.getInstance().showUI(t)},t.HideUI=function(t){o.default.getInstance().hideUI(t)},t.ShowLoading=function(t){o.default.getInstance().openUI(r.default,i.ViewZorder.UI,t)},t.ShowDialog=function(t){var e=o.default.getInstance().getUI(a.default);e?e.show(t):o.default.getInstance().openUI(a.default,i.ViewZorder.Dialog,null,null,t)},t.Resize=function(t){o.default.getInstance().resizeUI(t)},t}();n.default=s,cc._RF.pop()},{"../../data/const/ViewZorder":"ViewZorder","../../manager/UIMng":"UIMng","./UILoading":"UILoading","./UIMessage":"UIMessage"}],UIInfo:[function(t,e,n){"use strict";cc._RF.push(e,"cfd9aq3RmlM16Tmxzt3eI7O","UIInfo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../manager/LangMng"),s=t("./UIBase"),c=t("../../data/const/ViewZorder"),u=cc._decorator.ccclass,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUILoad=function(){this.node_main=this.node.getChildByName("main"),this.btn_close=this.node_main.getChildByName("btn_close");var t=this.node_main.getChildByName("con_1");this.label_title_1=t.getChildByName("title").getComponent(cc.Label),this.label_con_txt_1=t.getChildByName("content").getComponent(cc.Label);var e=this.node_main.getChildByName("con_2");this.label_title_2=e.getChildByName("title").getComponent(cc.Label),this.label_con_txt_2=t.getChildByName("content").getComponent(cc.Label),this.node.zIndex=c.ViewZorder.UI,this.setTxt(),this.hide(!1)},e.prototype.onShow=function(){this.onRegisterEvent(this.btn_close,this.onBtnCloseClick,this)},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.fadeIn())},e.prototype.hide=function(t){void 0===t&&(t=!0),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.setTxt=function(){this.label_title_1.string=a.default.getTxt("I_001"),this.label_con_txt_1.string=a.default.getTxt("I_002"),this.label_title_2.string=a.default.getTxt("I_003"),this.label_con_txt_2.string=a.default.getTxt("I_004")},e.prototype.fadeIn=function(){this.node.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.fadeIn(.1).easing(cc.easeSineOut()))},e.prototype.fadeOut=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.node.active=!1})))},e.prototype.onBtnCloseClick=function(){this.hide()},r([u],e)}(s.default);n.default=l,cc._RF.pop()},{"../../data/const/ViewZorder":"ViewZorder","../../manager/LangMng":"LangMng","./UIBase":"UIBase"}],UILoadTip:[function(t,e,n){"use strict";cc._RF.push(e,"6ee63MtGNRCs7+qoygTJjeG","UILoadTip");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./UIBase"),s=t("../../data/const/ViewZorder"),c=cc._decorator.ccclass,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUILoad=function(){this.icon=this.node.getChildByName("icon"),this.node.zIndex=s.ViewZorder.Loading,this.hide()},e.prototype.show=function(){this.node.active=!0,this.icon.opacity=0,this.icon.runAction(cc.sequence(cc.delayTime(.5),cc.fadeIn(.2)))},e.prototype.hide=function(){this.icon.stopAllActions(),this.node.active=!1},r([c],e)}(a.default);n.default=u,cc._RF.pop()},{"../../data/const/ViewZorder":"ViewZorder","./UIBase":"UIBase"}],UILoading:[function(t,e,n){"use strict";cc._RF.push(e,"f7418/eTg1GuKl68PWCV/8c","UILoading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./UIBase"),s=cc._decorator.ccclass,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onInit=function(){cc.game.addPersistRootNode(this.node)},e.prototype.onUILoad=function(){this.resize()},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.setTxt(),this.fadeIn())},e.prototype.hide=function(t){void 0===t&&(t=!0),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.fadeIn=function(){this.node.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeIn(.1),cc.callFunc(function(){})))},e.prototype.fadeOut=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.2),cc.fadeOut(.16),cc.callFunc(function(){t.node.active=!1})))},e.prototype.setTxt=function(){},e.prototype.resize=function(){var t=this.getCanvas();this.node.setPosition(t.x,t.y)},e.prefabUrl="loading_full_plane",e.className="UILoading",r([s],e)}(a.default);n.default=c,cc._RF.pop()},{"./UIBase":"UIBase"}],UIMessage:[function(t,e,n){"use strict";cc._RF.push(e,"2d4de+mDeJJN7KetexHq3uT","UIMessage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("./UIBase"),c=t("../../data/scene/DataUIMessage"),u=t("../../manager/LangMng"),l=cc._decorator.ccclass;(function(t){t[t.All=0]="All",t[t.Confirm=1]="Confirm",t[t.None=2]="None"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e._isLangSet=!1,e._type=a.None,e._canCover=!0,e._autoClose=!1,e._timer=null,e._timerTime=3e3,e}return i(e,t),e.prototype.onInit=function(){cc.game.addPersistRootNode(this.node)},e.prototype.onUILoad=function(){this.ui=this.node.addComponent(c.default),this.resize(),this.hide(!1)},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_confirm,this.onConfirmClick,this),this.onRegisterEvent(this.ui.btn_cancel,this.onCancelClick,this),this.onRegisterEvent(this.ui.node_backBg,this.onBackBgClick,this),this.setLang()},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_cancel,this.onConfirmClick,this),this.unRegisterEvent(this.ui.btn_cancel,this.onCancelClick,this),this.unRegisterEvent(this.ui.node_backBg,this.onBackBgClick,this),this._canCover=!0},e.prototype.onConfirmClick=function(){this._confirmCb&&this._confirmCb(),this.hide()},e.prototype.onCancelClick=function(){this._cancelCb&&this._cancelCb(),this.hide()},e.prototype.onBackBgClick=function(){this.hide()},e.prototype.show=function(t){var e=this;if(null!=t){var n=t;this._type=n.type,this._content=n.content,this._confirmCb=n.confirmCb,this._cancelCb=n.cancelCb,null!=n.canCover&&(this._canCover=n.canCover),!this._canCover&&this.node.active||(null!=n.autoClose&&(this._autoClose=n.autoClose),this._autoClose&&(this._timer=setTimeout(function(){e.hide()},this._timerTime)),this.node.active=!0,this.setIntroTxt(),this.setBtnsDisplay(),this.fadeIn())}},e.prototype.hide=function(t){void 0===t&&(t=!0),clearTimeout(this._timer),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.fadeIn=function(){this.ui.node_main.opacity=0,this.ui.node_main.scale=1.3,this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.spawn(cc.fadeIn(.15),cc.scaleTo(.2,1).easing(cc.easeBackOut())),cc.callFunc(function(){})))},e.prototype.fadeOut=function(){var t=this;this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.node.active=!1})))},e.prototype.setBtnsDisplay=function(){switch(this._type){case a.Confirm:this.setBtnCancelActive(!1),this.setBtnConfirmActive(!0);break;case a.None:this.setBtnCancelActive(!1),this.setBtnConfirmActive(!1);break;default:this.setBtnCancelActive(!0),this.setBtnConfirmActive(!0)}},e.prototype.setBtnConfirmActive=function(t){this.ui.btn_confirm.active=t},e.prototype.setBtnCancelActive=function(t){this.ui.btn_cancel.active=t},e.prototype.setIntroTxt=function(){this.ui.label_msg_txt.string=this._content},e.prototype.setLang=function(){this._isLangSet||(this.ui.label_confirm.string=u.default.getTxt("P_1001"),this.ui.label_cancel.string=u.default.getTxt("P_1002"),this._isLangSet=!0)},e.prototype.resize=function(){var t=this.getCanvas();this.node.setPosition(t.x,t.y)},e.prefabUrl="message_panel",e.className="UIMessage",r([l],e)}(s.default);n.default=h,cc._RF.pop()},{"../../data/scene/DataUIMessage":"DataUIMessage","../../manager/LangMng":"LangMng","./UIBase":"UIBase"}],UIMng:[function(t,e,n){"use strict";cc._RF.push(e,"095671c/OFGXJQ8UAONFXpD","UIMng"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../data/const/ViewZorder"),i=function(){function t(){this.uiList=[]}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,n,i){var r=this;void 0===e&&(e=o.ViewZorder.UI);for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];this.getUI(t)||cc.loader.loadRes(t.getUrl(),function(t,e,n){i&&i(t,e,n)},function(o,i){if(!o&&!r.getUI(t)){var s=cc.instantiate(i),c=s.getComponent(t);if(c){c.init(a);var u=cc.director.getScene();u&&(s.parent=u,s.zIndex=e,r.uiList.push(c),c.tag=t,n&&n(c))}}})},t.prototype.showUI=function(t){var e=this.getUI(t);e&&(e.show?e.show():e.node.active=!0)},t.prototype.hideUI=function(t){var e=this.getUI(t);e.hide?e.hide():e.node.active=!1},t.prototype.resizeUI=function(t){var e=this.getUI(t);e&&e.resize&&e.resize()},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return cc.isValid(this.uiList[e].node)&&(this.uiList[e].node.destroy(),this.clearDependsRes(t.getUrl())),void this.uiList.splice(e,1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t.prototype.clearDependsRes=function(t){cc.loader.getDependsRecursively(t).forEach(function(t){-1===t.indexOf("common")&&cc.loader.release(t)})},t}();n.default=i,cc._RF.pop()},{"../data/const/ViewZorder":"ViewZorder"}],UIMusic:[function(t,e,n){"use strict";cc._RF.push(e,"8166cTvy+RJFIeDtGEoIKtC","UIMusic");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a,s=t("./UIBase"),c=t("../../data/scene/DataUIMusic"),u=t("../../manager/LangMng"),l=t("../../manager/MusicMng");(function(t){t[t.Music=0]="Music",t[t.Effect=1]="Effect"})(a||(a={}));var h=cc._decorator.ccclass,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e._isLangSet=!1,e._closeX=-33,e._openX=33,e._closeColor=new cc.Color(190,190,190,255),e._openColor=new cc.Color(0,133,255,255),e}return i(e,t),e.prototype.onInit=function(){cc.game.addPersistRootNode(this.node),this.resize()},e.prototype.onUILoad=function(){this.ui=this.node.addComponent(c.default),this.updateBtnDisplay(a.Music),this.updateBtnDisplay(a.Effect),this.hide(!1)},e.prototype.onShow=function(){this.setLang(),this.onRegisterEvent(this.ui.btn_close,this.onBtnCloseClick,this),this.onRegisterEvent(this.ui.btn_music,this.onBtnMusicClick,this),this.onRegisterEvent(this.ui.btn_effect,this.onBtnEffectClick,this)},e.prototype.onHide=function(){this.unRegisterEvent(this.ui.btn_music,this.onBtnCloseClick,this),this.unRegisterEvent(this.ui.btn_close,this.onBtnMusicClick,this),this.unRegisterEvent(this.ui.btn_effect,this.onBtnEffectClick,this)},e.prototype.onBtnCloseClick=function(){this.hide()},e.prototype.onBtnMusicClick=function(){l.default.switchMusic(),this.updateBtnDisplay(a.Music)},e.prototype.onBtnEffectClick=function(){l.default.switchEffect(),this.updateBtnDisplay(a.Effect)},e.prototype.updateBtnDisplay=function(t){var e=0==t?l.default.getMusicState():l.default.getEffectState(),n=0==t?this.ui.node_musicCircle:this.ui.node_effectCircle,o=0==t?this.ui.node_musicBg:this.ui.node_effectBg,i=e?this._openX:this._closeX,r=e?this._openColor:this._closeColor;n.stopAllActions(),n.runAction(cc.moveTo(.2,i,0).easing(cc.easeSineOut())),o.stopAllActions(),o.runAction(cc.tintTo(.2,r.getR(),r.getG(),r.getB()))},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.fadeIn())},e.prototype.hide=function(t){void 0===t&&(t=!0),this.node.active&&(t?this.fadeOut():this.node.active=!1)},e.prototype.fadeIn=function(){this.ui.node_main.setPosition(0,2e3),this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.moveTo(.3,0,0).easing(cc.easeQuarticActionInOut()),cc.callFunc(function(){})))},e.prototype.fadeOut=function(){var t=this;this.ui.node_main.stopAllActions(),this.ui.node_main.runAction(cc.sequence(cc.moveTo(.2,0,2e3).easing(cc.easeSineOut()),cc.callFunc(function(){t.node.active=!1})))},e.prototype.setLang=function(){this._isLangSet||(this.ui.label_music.string=u.default.getTxt("MB_008"),this.ui.label_effect.string=u.default.getTxt("MB_009"),this.ui.label_close.string=u.default.getTxt("P_1003"),this._isLangSet=!0)},e.prototype.resize=function(){var t=this.getCanvas();this.node.setPosition(t.x,t.y)},e.prefabUrl="music_panel",e.className="UIMusic",r([h],e)}(s.default);n.default=p,cc._RF.pop()},{"../../data/scene/DataUIMusic":"DataUIMusic","../../manager/LangMng":"LangMng","../../manager/MusicMng":"MusicMng","./UIBase":"UIBase"}],UISkinPop:[function(t,e,n){"use strict";cc._RF.push(e,"47f5anK9OFGM5aOAaXeNX9s","UISkinPop");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../manager/AssetsMng"),a=t("../../data/GameCenter"),s=t("../mine/pop/PropSelectPop"),c=t("../../manager/LangMng"),u=function(t){function e(){var e=t.call(this)||this;return e.langTxtData=null,e.langTxtData={noDisplay:c.default.getTxt("T_113")},e.btnIconImg={n:e.getBtnNormalImg(),a:e.getBtnActiveImg()},e}return i(e,t),e.prototype.getListData=function(){return a.default.game.mineSkinListData},e.prototype.getBtnNormalImg=function(){for(var t=[null],e=r.default.getAssets("decoration.plist"),n=1;n<8;n++)t[n]=e.getSpriteFrame("skin_01_n");return t},e.prototype.getBtnActiveImg=function(){for(var t=[null],e=r.default.getAssets("decoration.plist"),n=1;n<8;n++)t[n]=e.getSpriteFrame("skin_01_a");return t},e.prototype.getCurrentSelectID=function(t){return a.default.game.mineSkin[t]},e}(s.default);n.default=u,cc._RF.pop()},{"../../data/GameCenter":"GameCenter","../../manager/AssetsMng":"AssetsMng","../../manager/LangMng":"LangMng","../mine/pop/PropSelectPop":"PropSelectPop"}],UIUpgradePanel:[function(t,e,n){"use strict";cc._RF.push(e,"65452SKn4BDMZY6E+o5EwfY","UIUpgradePanel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../data/GameCenter"),a=t("../../manager/AssetsMng"),s=t("../../data/const/ViewZorder"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUILoad=function(){this.black_bg=this.node.getChildByName("bg"),this.spine=this.node.getChildByName("spine").getComponent(sp.Skeleton),this.light=this.node.getChildByName("light"),this.node.active=!1,this.init()},e.prototype.init=function(){this.node.zIndex=s.ViewZorder.UI},e.prototype.show=function(t){this.setSpineData(t),this.node.active=!0,this.light.active=!1,this.black_bg.active=!0,this.black_bg.opacity=0,this.black_bg.stopAllActions(),this.black_bg.runAction(cc.fadeTo(.15,180)),this.spine.node.active=!0,this.spine.setAnimation(0,"lv_start",!0)},e.prototype.hide=function(t){var e=this;this.light.active=!0,this.light.opacity=0,this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.fadeIn(.15).easing(cc.easeSineIn()),cc.callFunc(function(){e.spine.node.active=!1,e.black_bg.active=!1,t&&t()}),cc.delayTime(.1),cc.fadeOut(.2).easing(cc.easeSineOut()),cc.callFunc(function(){e.node.active=!1})))},e.prototype.setSpineData=function(t){var e=r.default.game.getPetBodyThemeName(t);this.spine.skeletonData=a.default.getAssets(e+".spine"),this.setSkin(t)},e.prototype.setSkin=function(t){this.spine.setSkin(r.default.game.getPetBodySkinName(t))},e}(t("./UIBase").default);n.default=c,cc._RF.pop()},{"../../data/GameCenter":"GameCenter","../../data/const/ViewZorder":"ViewZorder","../../manager/AssetsMng":"AssetsMng","./UIBase":"UIBase"}],ViewZorder:[function(t,e,n){"use strict";cc._RF.push(e,"29baandiBxIr75OnuvAtJCP","ViewZorder"),Object.defineProperty(n,"__esModule",{value:!0}),n.ViewZorder=void 0;var o=function(){function t(){}return t.Btn=13,t.Scene=20,t.UI=100,t.Dialog=200,t.Loading=300,t}();n.ViewZorder=o,cc._RF.pop()},{}],WebAPI:[function(t,e,n){"use strict";cc._RF.push(e,"03ebe44nLBHH4l0fYiXtCmo","WebAPI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this,"WebAPI")||this;return e.init(),e}return i(e,t),Object.defineProperty(e.prototype,"GameServerSocket",{get:function(){return this._GameServerSocket},set:function(t){this._GameServerSocket=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"accountName",{get:function(){return this._accountName},set:function(t){this._accountName=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},set:function(t){this._loginType=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"token",{get:function(){return this._token},set:function(t){this._token=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this._code},set:function(t){this._code=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"channelId",{get:function(){return this._channelId},set:function(t){this._channelId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameId",{get:function(){return this._gameId},set:function(t){this._gameId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lang",{get:function(){return this._lang},set:function(t){this._lang=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameMaker",{get:function(){return this._gameMaker},set:function(t){this._gameMaker=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"homeURL",{get:function(){return this._homeURL},set:function(t){this._homeURL=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"companyIcon",{get:function(){return this._companyIcon},set:function(t){this._companyIcon=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"windows",{get:function(){return this._windows},set:function(t){this._windows=t},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.setData("GameServerSocket"),this.setData("accountName"),this.setData("loginType"),this.setData("token"),this.setData("gameId"),this.setData("lang"),this.setData("homeURL"),this.setData("companyIcon"),this.setData("windows")},e.prototype.setData=function(t){(window[t]&&""!=window[t]||0===window[t])&&(this[t]=window[t])},e}(t("../IDataModel").default);n.default=r,cc._RF.pop()},{"../IDataModel":"IDataModel"}],"anime.es":[function(t,e,n){"use strict";cc._RF.push(e,"db9e2P8oX1PXYgteZk3fz/E","anime.es"),n.__esModule=!0,n.default=void 0;var o={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},i={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],a={CSS:{},springs:{}};function s(t,e,n){return Math.min(Math.max(t,e),n)}function c(t,e){return t.indexOf(e)>-1}function u(t,e){return t.apply(null,e)}var l={arr:function(t){return Array.isArray(t)},obj:function(t){return c(Object.prototype.toString.call(t),"Object")},pth:function(t){return l.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||l.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return l.hex(t)||l.rgb(t)||l.hsl(t)},key:function(t){return!o.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function h(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(t){return parseFloat(t)}):[]}function p(t,e){var n=h(t),o=s(l.und(n[0])?1:n[0],.1,100),i=s(l.und(n[1])?100:n[1],.1,100),r=s(l.und(n[2])?10:n[2],.1,100),c=s(l.und(n[3])?0:n[3],.1,100),u=Math.sqrt(i/o),p=r/(2*Math.sqrt(i*o)),d=p<1?u*Math.sqrt(1-p*p):0,f=1,_=p<1?(p*u-c)/d:-c+u;function g(t){var n=e?e*t/1e3:t;return n=p<1?Math.exp(-n*p*u)*(f*Math.cos(d*n)+_*Math.sin(d*n)):(f+_*n)*Math.exp(-n*u),0===t||1===t?t:1-n}return e?g:function(){var e=a.springs[t];if(e)return e;for(var n=0,o=0;;)if(1===g(n+=1/6)){if(++o>=16)break}else o=0;var i=n*(1/6)*1e3;return a.springs[t]=i,i}}function d(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=s(t,1,10),o=s(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin(2*(t-1-o/(2*Math.PI)*Math.asin(1/n))*Math.PI/o)}}function f(t){return void 0===t&&(t=10),function(e){return Math.round(e*t)*(1/t)}}var _=function(){var t=11,e=1/(t-1);function n(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function i(t){return 3*t}function r(t,e,r){return((n(e,r)*t+o(e,r))*t+i(e))*t}function a(t,e,r){return 3*n(e,r)*t*t+2*o(e,r)*t+i(e)}function s(t,e,n,o,i){var a,s,c=0;do{(a=r(s=e+(n-e)/2,o,i)-t)>0?n=s:e=s}while(Math.abs(a)>1e-7&&++c<10);return s}function c(t,e,n,o){for(var i=0;i<4;++i){var s=a(e,n,o);if(0===s)return e;e-=(r(e,n,o)-t)/s}return e}return function(n,o,i,u){if(0<=n&&n<=1&&0<=i&&i<=1){var l=new Float32Array(t);if(n!==o||i!==u)for(var h=0;h<t;++h)l[h]=r(h*e,n,i);return function(t){return n===o&&i===u?t:0===t||1===t?t:r(p(t),o,u)}}function p(o){for(var r=0,u=1,h=t-1;u!==h&&l[u]<=o;++u)r+=e;var p=r+(o-l[--u])/(l[u+1]-l[u])*e,d=a(p,n,i);return d>=.001?c(o,p,n,i):0===d?p:s(o,r,r+e,n,i)}}}(),g=function(){var t=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],e={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],d],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,e){return function(n){return 1-d(t,e)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,e){return function(n){return n<.5?d(t,e)(2*n)/2:1-d(t,e)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]},o=function(o){e[o].forEach(function(e,i){n["ease"+o+t[i]]=e})};for(var i in e)o(i);return n}();function m(t,e){if(l.fnc(t))return t;var n=t.split("(")[0],o=g[n],i=h(t);switch(n){case"spring":return p(t,e);case"cubicBezier":return u(_,i);case"steps":return u(f,i);default:return l.fnc(o)?u(o,i):u(_,o)}}function y(t){try{return document.querySelectorAll(t)}catch(e){return}}function v(t,e){for(var n=t.length,o=arguments.length>=2?arguments[1]:void 0,i=[],r=0;r<n;r++)if(r in t){var a=t[r];e.call(o,a,r,t)&&i.push(a)}return i}function b(t){return t.reduce(function(t,e){return t.concat(l.arr(e)?b(e):e)},[])}function C(t){return l.arr(t)?t:(l.str(t)&&(t=y(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function P(t,e){return t.some(function(t){return t===e})}function I(t){var e={};for(var n in t)e[n]=t[n];return e}function M(t,e){var n=I(t);for(var o in t)n[o]=e.hasOwnProperty(o)?e[o]:t[o];return n}function O(t,e){var n=I(t);for(var o in e)n[o]=l.und(t[o])?e[o]:t[o];return n}function B(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,o){return e+e+n+n+o+o}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}function S(t){var e,n,o,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,c=i[4]||1;function u(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=o=s;else{var l=s<.5?s*(1+a):s+a-s*a,h=2*s-l;e=u(h,l,r+1/3),n=u(h,l,r),o=u(h,l,r-1/3)}return"rgba("+255*e+","+255*n+","+255*o+","+c+")"}function w(t){return l.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:l.hex(t)?B(t):l.hsl(t)?S(t):void 0;var e,n}function A(t){var e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[2]}function E(t){return c(t,"translate")||"perspective"===t?"px":c(t,"rotate")||c(t,"skew")?"deg":void 0}function N(t,e){return l.fnc(t)?t(e.target,e.id,e.total):t}function T(t,e){return t.getAttribute(e)}function x(t,e,n){if(P([n,"deg","rad","turn"],A(e)))return e;var o=a.CSS[e+n];if(!l.und(o))return o;var i=document.createElement(t.tagName),r=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;r.appendChild(i),i.style.position="absolute",i.style.width=100+n;var s=100/i.offsetWidth;r.removeChild(i);var c=s*parseFloat(e);return a.CSS[e+n]=c,c}function R(t,e,n){if(e in t.style){var o=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(o)||"0";return n?x(t,i,n):i}}function D(t,e){return l.dom(t)&&!l.inp(t)&&(T(t,e)||l.svg(t)&&t[e])?"attribute":l.dom(t)&&P(r,e)?"transform":l.dom(t)&&"transform"!==e&&R(t,e)?"css":null!=t[e]?"object":void 0}function L(t){if(l.dom(t)){for(var e,n=t.style.transform||"",o=/(\w+)\(([^)]*)\)/g,i=new Map;e=o.exec(n);)i.set(e[1],e[2]);return i}}function U(t,e,n,o){var i=c(e,"scale")?1:0+E(e),r=L(t).get(e)||i;return n&&(n.transforms.list.set(e,r),n.transforms.last=e),o?x(t,r,o):r}function j(t,e,n,o){switch(D(t,e)){case"transform":return U(t,e,o,n);case"css":return R(t,e,n);case"attribute":return T(t,e);default:return t[e]||0}}function k(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var o=A(t)||0,i=parseFloat(e),r=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+r+o;case"-":return i-r+o;case"*":return i*r+o}}function G(t,e){if(l.col(t))return w(t);var n=A(t),o=n?t.substr(0,t.length-n.length):t;return e&&!/\s/g.test(t)?o+e:o}function F(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function H(t){return 2*Math.PI*T(t,"r")}function V(t){return 2*T(t,"width")+2*T(t,"height")}function z(t){return F({x:T(t,"x1"),y:T(t,"y1")},{x:T(t,"x2"),y:T(t,"y2")})}function Z(t){for(var e,n=t.points,o=0,i=0;i<n.numberOfItems;i++){var r=n.getItem(i);i>0&&(o+=F(e,r)),e=r}return o}function q(t){var e=t.points;return Z(t)+F(e.getItem(e.numberOfItems-1),e.getItem(0))}function W(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return H(t);case"rect":return V(t);case"line":return z(t);case"polyline":return Z(t);case"polygon":return q(t)}}function K(t){for(var e=t.parentNode;l.svg(e)&&(e=e.parentNode,l.svg(e.parentNode)););return e}function J(t,e){var n=e||{},o=n.el||K(t),i=o.getBoundingClientRect(),r=T(o,"viewBox"),a=i.width,s=i.height,c=n.viewBox||(r?r.split(" "):[0,0,a,s]);return{el:o,viewBox:c,x:c[0]/1,y:c[1]/1,w:a/c[2],h:s/c[3]}}function Q(t,e){function n(n){void 0===n&&(n=0);var o=e+n>=1?e+n:0;return t.el.getPointAtLength(o)}var o=J(t.el,t.svg),i=n(),r=n(-1),a=n(1);switch(t.property){case"x":return(i.x-o.x)*o.w;case"y":return(i.y-o.y)*o.h;case"angle":return 180*Math.atan2(a.y-r.y,a.x-r.x)/Math.PI}}function Y(t,e){var n=/-?\d*\.?\d+/g,o=G(l.pth(t)?t.totalLength:t,e)+"";return{original:o,numbers:o.match(n)?o.match(n).map(Number):[0],strings:l.str(t)||e?o.split(n):[]}}function X(t){return v(t?b(l.arr(t)?t.map(C):C(t)):[],function(t,e,n){return n.indexOf(t)===e})}function $(t){var e=X(t);return e.map(function(t,n){return{target:t,id:n,total:e.length,transforms:{list:L(t)}}})}function tt(t,e){var n=I(e);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),l.arr(t)){var o=t.length;2!==o||l.obj(t[0])?l.fnc(e.duration)||(n.duration=e.duration/o):t={value:t}}var i=l.arr(t)?t:[t];return i.map(function(t,n){var o=l.obj(t)&&!l.pth(t)?t:{value:t};return l.und(o.delay)&&(o.delay=n?0:e.delay),l.und(o.endDelay)&&(o.endDelay=n===i.length-1?e.endDelay:0),o}).map(function(t){return O(t,n)})}function et(t){for(var e=v(b(t.map(function(t){return Object.keys(t)})),function(t){return l.key(t)}).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]),n={},o=function(o){var i=e[o];n[i]=t.map(function(t){var e={};for(var n in t)l.key(n)?n==i&&(e.value=t[n]):e[n]=t[n];return e})},i=0;i<e.length;i++)o(i);return n}function nt(t,e){var n=[],o=e.keyframes;for(var i in o&&(e=O(et(o),e)),e)l.key(i)&&n.push({name:i,tweens:tt(e[i],t)});return n}function ot(t,e){var n={};for(var o in t){var i=N(t[o],e);l.arr(i)&&1===(i=i.map(function(t){return N(t,e)})).length&&(i=i[0]),n[o]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function it(t,e){var n;return t.tweens.map(function(o){var i=ot(o,e),r=i.value,a=l.arr(r)?r[1]:r,s=A(a),c=j(e.target,t.name,s,e),u=n?n.to.original:c,h=l.arr(r)?r[0]:u,p=A(h)||A(c),d=s||p;return l.und(a)&&(a=u),i.from=Y(h,d),i.to=Y(k(a,h),d),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=m(i.easing,i.duration),i.isPath=l.pth(r),i.isColor=l.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var rt={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,o,i){if(o.list.set(e,n),e===o.last||i){var r="";o.list.forEach(function(t,e){r+=e+"("+t+") "}),t.style.transform=r}}};function at(t,e){$(t).forEach(function(t){for(var n in e){var o=N(e[n],t),i=t.target,r=A(o),a=j(i,n,r,t),s=k(G(o,r||A(a)),a),c=D(i,n);rt[c](i,n,s,t.transforms,!0)}})}function st(t,e){var n=D(t.target,e.name);if(n){var o=it(e,t),i=o[o.length-1];return{type:n,property:e.name,animatable:t,tweens:o,duration:i.end,delay:o[0].delay,endDelay:i.endDelay}}}function ct(t,e){return v(b(t.map(function(t){return e.map(function(e){return st(t,e)})})),function(t){return!l.und(t)})}function ut(t,e){var n=t.length,o=function(t){return t.timelineOffset?t.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map(function(t){return o(t)+t.duration})):e.duration,i.delay=n?Math.min.apply(Math,t.map(function(t){return o(t)+t.delay})):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map(function(t){return o(t)+t.duration-t.endDelay})):e.endDelay,i}var lt=0;function ht(t){var e=M(o,t),n=M(i,t),r=nt(n,t),a=$(t.targets),s=ct(a,r),c=ut(s,n),u=lt;return lt++,O(e,{id:u,children:[],animatables:a,animations:s,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}var pt,dt=[],ft=[],_t=function(){function t(){pt=requestAnimationFrame(e)}function e(e){var n=dt.length;if(n){for(var o=0;o<n;){var i=dt[o];if(i.paused){var r=dt.indexOf(i);r>-1&&(dt.splice(r,1),n=dt.length)}else i.tick(e);o++}t()}else pt=cancelAnimationFrame(pt)}return t}();function gt(t){void 0===t&&(t={});var e,n=0,o=0,i=0,r=0,a=null;function c(){return window.Promise&&new Promise(function(t){return a=t})}var u=c(),l=ht(t);function h(){l.reversed=!l.reversed,e.forEach(function(t){return t.reversed=l.reversed})}function p(t){return l.reversed?l.duration-t:t}function d(){n=0,o=p(l.currentTime)*(1/gt.speed)}function f(t,e){e&&e.seek(t-e.timelineOffset)}function _(t){if(l.reversePlayback)for(var n=r;n--;)f(t,e[n]);else for(var o=0;o<r;o++)f(t,e[o])}function g(t){for(var e=0,n=l.animations,o=n.length;e<o;){var i=n[e],r=i.animatable,a=i.tweens,c=a.length-1,u=a[c];c&&(u=v(a,function(e){return t<e.end})[0]||u);for(var h=s(t-u.start-u.delay,0,u.duration)/u.duration,p=isNaN(h)?1:u.easing(h),d=u.to.strings,f=u.round,_=[],g=u.to.numbers.length,m=void 0,y=0;y<g;y++){var b=void 0,C=u.to.numbers[y],P=u.from.numbers[y]||0;b=u.isPath?Q(u.value,p*C):P+p*(C-P),f&&(u.isColor&&y>2||(b=Math.round(b*f)/f)),_.push(b)}var I=d.length;if(I){m=d[0];for(var M=0;M<I;M++){d[M];var O=d[M+1],B=_[M];isNaN(B)||(m+=O?B+O:B+" ")}}else m=_[0];rt[i.type](r.target,i.property,m,r.transforms),i.currentValue=m,e++}}function m(t){l[t]&&!l.passThrough&&l[t](l)}function y(t){var r=l.duration,d=l.delay,f=r-l.endDelay,y=p(t);l.progress=s(y/r*100,0,100),l.reversePlayback=y<l.currentTime,e&&_(y),!l.began&&l.currentTime>0&&(l.began=!0,m("begin"),m("loopBegin")),y<=d&&0!==l.currentTime&&g(0),(y>=f&&l.currentTime!==r||!r)&&g(r),y>d&&y<f?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,m("changeBegin")),m("change"),g(y)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,m("changeComplete")),l.currentTime=s(y,0,r),l.began&&m("update"),t>=r&&(o=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(n=i,m("loopComplete"),m("loopBegin"),"alternate"===l.direction&&h()):(l.paused=!0,l.completed||(l.completed=!0,m("loopComplete"),m("complete"),"Promise"in window&&(a(),u=c()))))}return l.reset=function(){var t=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===t,l.remaining=l.loop,e=l.children;for(var n=r=e.length;n--;)l.children[n].reset();(l.reversed&&!0!==l.loop||"alternate"===t&&1===l.loop)&&l.remaining++,g(0)},l.set=function(t,e){return at(t,e),l},l.tick=function(t){i=t,n||(n=i),y((i+(o-n))*gt.speed)},l.seek=function(t){y(p(t))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.paused=!1,dt.push(l),d(),pt||_t())},l.reverse=function(){h(),d()},l.restart=function(){l.reset(),l.play()},l.finished=u,l.reset(),l.autoplay&&l.play(),l}function mt(t,e){for(var n=e.length;n--;)P(t,e[n].animatable.target)&&e.splice(n,1)}document.addEventListener("visibilitychange",function(){document.hidden?(dt.forEach(function(t){return t.pause()}),ft=dt.slice(0),dt=[]):ft.forEach(function(t){return t.play()})}),gt.version="3.0.0",gt.speed=1,gt.running=dt,gt.remove=function(t){for(var e=X(t),n=dt.length;n--;){var o=dt[n],i=o.animations,r=o.children;mt(e,i);for(var a=r.length;a--;){var s=r[a],c=s.animations;mt(e,c),c.length||s.children.length||r.splice(a,1)}i.length||r.length||o.pause()}},gt.get=j,gt.set=at,gt.convertPx=x,gt.path=function(t,e){var n=l.str(t)?y(t)[0]:t,o=e||100;return function(t){return{property:t,el:n,svg:J(n),totalLength:W(n)*(o/100)}}},gt.setDashoffset=function(t){var e=W(t);return t.setAttribute("stroke-dasharray",e),e},gt.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",o=e.easing?m(e.easing):null,i=e.grid,r=e.axis,a=e.from||0,s="first"===a,c="center"===a,u="last"===a,h=l.arr(t),p=h?parseFloat(t[0]):parseFloat(t),d=h?parseFloat(t[1]):0,f=A(h?t[1]:t)||0,_=e.start||0+(h?p:0),g=[],y=0;return function(t,e,l){if(s&&(a=0),c&&(a=(l-1)/2),u&&(a=l-1),!g.length){for(var m=0;m<l;m++){if(i){var v=c?(i[0]-1)/2:a%i[0],b=c?(i[1]-1)/2:Math.floor(a/i[0]),C=v-m%i[0],P=b-Math.floor(m/i[0]),I=Math.sqrt(C*C+P*P);"x"===r&&(I=-C),"y"===r&&(I=-P),g.push(I)}else g.push(Math.abs(a-m));y=Math.max.apply(Math,g)}o&&(g=g.map(function(t){return o(t/y)*y})),"reverse"===n&&(g=g.map(function(t){return r?t<0?-1*t:-t:Math.abs(y-t)}))}return _+(h?(d-p)/y:p)*(Math.round(100*g[e])/100)+f}},gt.timeline=function(t){void 0===t&&(t={});var e=gt(t);return e.duration=0,e.add=function(n,o){var r=dt.indexOf(e),a=e.children;function s(t){t.passThrough=!0}r>-1&&dt.splice(r,1);for(var c=0;c<a.length;c++)s(a[c]);var u=O(n,M(i,t));u.targets=u.targets||t.targets;var h=e.duration;u.autoplay=!1,u.direction=e.direction,u.timelineOffset=l.und(o)?h:k(o,h),s(e),e.seek(u.timelineOffset);var p=gt(u);s(p),a.push(p);var d=ut(a,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},gt.easing=m,gt.penner=g,gt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};var yt=gt;n.default=yt,e.exports=n.default,cc._RF.pop()},{}],use_reversed_rotateTo:[function(t,e){"use strict";cc._RF.push(e,"9c5f85cvi5PI6J2xaihQM4Z","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["use_reversed_rotateTo","GameController","GPGAPI","ActionTransition","Log","MineCollect","MineMng","MineMngCon","MineMngNav","CollectGeneral","ParticleCoin","MinePartnerSelect","MinePetProps","MinePetSelect","MineSelect","MineSelectItem","MineSlider","MineToolBox","ToolComponent","PropSelectPop","MainGame","MainLoading","UIBase","UIHelp","UIInfo","UILoadTip","UILoading","UIMessage","UIMusic","UISkinPop","UIUpgradePanel","Assets","GameCenter","IDataModel","CfgMine","CfgPartner","EventConst","ViewZorder","GameModel","System","WebAPI","DataCollectGeneral","DataGame","DataLoading","DataMineCollect","DataMineMng","DataMineMngCon","DataMinePetSelect","DataMineToolBox","DataUIMessage","DataUIMusic","CNY","NTD","anime.es","AssetsMng","EventMng","LangMng","MusicMng","SceneMng","UIMng"]);